/**********************************************************************************************Duranton_Turner_AER_2010_final.doMatthew Turner and Gilles Duranton, August 2010.This file produces all regeression output reported in Duranton and Turner 2010 and in the associated supplemental appendix EXCEPT for tables 9 and 11.  These two tables rely on confidential geocode verions of the NHTS and NPTS.The program writes output in a subfolder This programme uses the commands outreg2 and ivreg2 which can be installed using "net install outreg2.pkg"  and "net install st0030_3.pkg".************************************************************************************************/******************************* SET UP                      *******************************#delimit clearcapture mkdir revisionset matsize 800set memory 600mset more 1quietly capture log closecd "C:\Users\USUARIO\OneDrive - Universidad de los Andes\Uniandes\Urban Economics\Proyecto\Revised-reproduction-package-for-Duranton-G.-Turner-M.-A.-2011-\Deliverable_1\data"/**ssc install ivreg2ssc install outreg2**/* specify locations of the component data setsglobal data  			"Duranton_Turner_AER_2010.dta" ******************************************************************** ***     TABLE 1  DESCRIPTIVE STATS (HPMS)                     ******************************************************************** if 1==1{      quietly log using revision/table1, text replace	use $data,clear	*drop if l_lane_km_1983==.	drop if ln_km_IH_83==0	* Per capita variables (rescaled)	gen ln_pc_IH83 = ln_km_IH_83/pop80*10000	gen ln_pc_IH93 = ln_km_IH_93/pop90*10000	gen ln_pc_IH03 = ln_km_IH_03/pop00*10000	* Rescale so display is better	gen vmt_IH_83b = vmt_IH_83 / 1000	gen vmt_IH_93b = vmt_IH_93 / 1000	gen vmt_IH_03b = vmt_IH_03 / 1000	gen vmt_MRU_83b = vmt_MRU_83 / 1000	gen vmt_MRU_93b = vmt_MRU_93 / 1000	gen vmt_MRU_03b = vmt_MRU_03 / 1000	* Share urbanised	replace vmt_IHU_83 = 0 if vmt_IHU_83 == . 	replace vmt_IHU_93 = 0 if vmt_IHU_93 == .	replace vmt_IHU_03 = 0 if vmt_IHU_03 == .	gen Svmt_U_83 =  vmt_IHU_83 /vmt_IH_83 	gen Svmt_U_93 =  vmt_IHU_93 /vmt_IH_93 	gen Svmt_U_03 =  vmt_IHU_03 /vmt_IH_03 	replace ln_km_IHU_83 = 0 if ln_km_IHU_83 == .	replace ln_km_IHU_93 = 0 if ln_km_IHU_93 == .	replace ln_km_IHU_03 = 0 if ln_km_IHU_03 == .	gen Sln_U_83 =  ln_km_IHU_83 /ln_km_IH_83 	gen Sln_U_93 =  ln_km_IHU_93 /ln_km_IH_93 	gen Sln_U_03 =  ln_km_IHU_03 /ln_km_IH_03 	* VKT on IH	sum vmt_IH_83b vmt_IH_93b vmt_IH_03b 	* AADT on IH 	sum aadt_IH_83 aadt_IH_93 aadt_IH_03	* Lane km on IH	sum ln_km_IH_83 ln_km_IH_93 ln_km_IH_03	* Lane km per capita on IH	sum ln_pc_IH83 ln_pc_IH93 ln_pc_IH03	* VKT on MRU	sum vmt_MRU_83b vmt_MRU_93b vmt_MRU_03b 	* AADT on MRU 	sum aadt_MRU_83 aadt_MRU_93 aadt_MRU_03	* Lane km on MRU	sum ln_km_MRU_83 ln_km_MRU_93 ln_km_MRU_03	* Share of urbanised in MSA	sum Svmt_U_83 Svmt_U_93 Svmt_U_03	sum Sln_U_83 Sln_U_93 Sln_U_03 	* Share trucks	gen S_t_IH83 = t_aadt_IH_83 / aadt_IH_83 	gen S_t_IH93 = t_aadt_IH_93 / aadt_IH_93 	gen S_t_IH03 = t_aadt_IH_03 / aadt_IH_03 	sum S_t_IH83 S_t_IH93 S_t_IH03	* Buses	gen bus_pp_84 = max_84bus / pop80 *10000	gen bus_pp_94 = max_94bus / pop90 *10000	gen bus_pp_04 = max_04bus / pop00 *10000	sum  bus_pp_84  bus_pp_94  bus_pp_04 	sum  max_84bus  max_94bus  max_04bus 	log close	}******************************************************************** ***     TABLE 2/3  OLS BY DECADE                                       ******************************************************************** * At the production stage, another table had to be created. This creates results for tables 2 and 3  jointly* The headings have been updated but not the names of the output filesif 1==1{	quietly log using revision/table2, text replace	use $data,clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl93	rename sprawl_1976 sprawl83	gen sprawl03 = sprawl93	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local k=1	while `k'<=5{		if `k'==1{			local V "2_a"			local R "IH"			local cond " "			}		if `k'==2{			local V "2_b"			local R "IHU"			local cond "if zero>0"			}		if `k'==3{			local V "2_c"			local R "MRU"			local cond "if zero>0"			}		if `k'==4{			local V "2_d"			local R "IHNU"			local cond "if zero>0"			}	local i=0	local j=1	while `j'<=3{		if `j'==1{			local year "1983"			local yrMM "83"			local yrXX "80"			local yrbus "84"			local population "l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==2{			local year "1993"			local yrMM "93"			local yrXX "90"			local yrbus "94"			local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==3{			local year "2003"			local yrMM "03"			local yrXX "00"			local yrbus "04"			local population "l_pop90 l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		capture drop l_pop l_vmt l_ln l_max_bus sprawl l_transit l_mean_income S_somecollege S_poor S_manuf		gen l_pop 	= l_pop`yrXX' 		gen sprawl 	= sprawl`yrMM' 		gen l_mean_income = l_mean_income_`yrXX' 		gen S_somecollege = S_somecollege_`yrXX' 		gen S_poor 	= S_poor_`yrXX' 		gen S_manuf	= S_manuf`yrMM' 		gen l_vmt = l_vmt_`R'_`yrMM' 		gen l_ln  = l_ln_km_`R'_`yrMM' 		gen l_max_bus   = l_max_`yrbus'bus		gen l_transit   = l_transit`yrbus'				local i= `i'+1		reg   l_vmt l_ln `cond',robust  		if `i'==1{		outreg2 l_ln using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' replace		}		if `i'>1{		outreg2 l_ln using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append		}		local i= `i'+1		reg   l_vmt l_ln l_pop `cond', robust  		outreg2 l_ln l_pop using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append 		local i= `i'+1		reg    l_vmt l_ln l_pop  `geography' `census_div' `cond', robust  		outreg2 l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append 				local i= `i'+1		reg   l_vmt l_ln l_pop `geography' `demographics' `population' `census_div' `cond', robust  		outreg2  l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append 	      local j=`j'+1	      }	local k=`k'+1	}	log close	}******************************************************************** ***     APPENDIX TABLE 1: POOLED OLS NO FE                           ******************************************************************** * THIS TABLE IS IN 4 PARTS: IH FOR 192 MSAs, IHU, MRU, IHNU* IT CREATES APPENDIX TABLES A1_a to A1_dif 1==1{	quietly log using revision/tableA1, text replace	use $data,clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	rename sprawl_1992 sprawl_1993	rename sprawl_1976 sprawl_1983	gen sprawl_2003 = sprawl_1993      rename S_somecollege_80 S_somecollege_1983      rename S_somecollege_00 S_somecollege_2003      rename S_somecollege_90 S_somecollege_1993      rename S_poor_80 S_poor_1983      rename S_poor_90 S_poor_1993      rename S_poor_00 S_poor_2003      rename l_mean_income_80 l_mean_income_1983      rename l_mean_income_90 l_mean_income_1993      rename l_mean_income_00 l_mean_income_2003      rename S_manuf83 S_manuf_1983      rename S_manuf93 S_manuf_1993      rename S_manuf03 S_manuf_2003      rename S_truck83 S_truck_1983      rename S_truck93 S_truck_1993      rename S_truck03 S_truck_2003      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00       rename l_max_84bus l_bus_1983       rename l_max_94bus l_bus_1993       rename l_max_04bus l_bus_2003       rename l_transit84 l_transit_1983      rename l_transit94 l_transit_1993       rename l_transit04 l_transit_2003      rename l_ln_km_IHNU_83 l_ln_km_IHNU_1983      rename l_ln_km_IHNU_93 l_ln_km_IHNU_1993      rename l_ln_km_IHNU_03 l_ln_km_IHNU_2003      rename l_ln_km_IHU_83 l_ln_km_IHU_1983      rename l_ln_km_IHU_93 l_ln_km_IHU_1993      rename l_ln_km_IHU_03 l_ln_km_IHU_2003      rename l_ln_km_IH_83 l_ln_km_IH_1983      rename l_ln_km_IH_93 l_ln_km_IH_1993      rename l_ln_km_IH_03 l_ln_km_IH_2003      rename l_ln_km_MRU_83 l_ln_km_MRU_1983      rename l_ln_km_MRU_93 l_ln_km_MRU_1993      rename l_ln_km_MRU_03 l_ln_km_MRU_2003      	rename l_vmt_IHNU_83 l_vmt_IHNU_1983      rename l_vmt_IHNU_93 l_vmt_IHNU_1993      rename l_vmt_IHNU_03 l_vmt_IHNU_2003      rename l_vmt_IHU_83 l_vmt_IHU_1983      rename l_vmt_IHU_93 l_vmt_IHU_1993      rename l_vmt_IHU_03 l_vmt_IHU_2003      rename l_vmt_IH_83 l_vmt_IH_1983      rename l_vmt_IH_93 l_vmt_IH_1993      rename l_vmt_IH_03 l_vmt_IH_2003      rename l_vmt_MRU_83 l_vmt_MRU_1983      rename l_vmt_MRU_93 l_vmt_MRU_1993      rename l_vmt_MRU_03 l_vmt_MRU_2003	reshape long l_ln_km_IH  l_ln_km_IHU  l_ln_km_IHNU  l_ln_km_MRU l_vmt_IH l_vmt_IHU  l_vmt_IHNU  l_vmt_MRU l_bus l_transit sprawl S_somecollege l_mean_income S_poor S_manuf S_truck l_pop, i(msa ) j(year _1983 _1993 _2003)	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	iis msa	local j=1	while `j'<=4{		if `j'==1{			local R "IH"			local V "A1_a"			local cond "if zero>0"			}		if `j'==2{			local R "IHU"			local V "A1_b"			local cond "if zero>0"			}		if `j'==3{			local R "MRU"			local V "A1_c"			local cond "if zero>0"			}		if `j'==4{			local R "IHNU"			local V "A1_d"			local cond "if zero>0"			}				capture drop l_vmt l_ln		gen l_vmt = l_vmt_`R' 		gen l_ln  = l_ln_km_`R' 		xi: reg    l_vmt l_ln i.year `cond', cl(msa) robust  		outreg2    l_ln using revision/table`V'.xls,ctitle(OLS `R')  `instruct' replace		xi: reg    l_vmt l_ln l_pop i.year `cond',  cl(msa) robust  		outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: reg    l_vmt l_ln l_pop  `geography' `census_div' i.year `cond', cl(msa)  robust  		outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: reg    l_vmt l_ln l_pop `geography' `census_div' `population' `demographics' i.year `cond', cl(msa) robust 		outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	      local j=`j'+1	      }	log close	}**#********************************************************* ***     TABLE 4: POOLED OLS                               ********************************************************* if 1==1{	quietly log using revision/table3, text replace	use $data,clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	rename sprawl_1992 sprawl_1993	rename sprawl_1976 sprawl_1983	gen sprawl_2003 = sprawl_1993      rename S_somecollege_80 S_somecollege_1983      rename S_somecollege_00 S_somecollege_2003      rename S_somecollege_90 S_somecollege_1993      rename S_poor_80 S_poor_1983      rename S_poor_90 S_poor_1993      rename S_poor_00 S_poor_2003      rename l_mean_income_80 l_mean_income_1983      rename l_mean_income_90 l_mean_income_1993      rename l_mean_income_00 l_mean_income_2003      rename S_manuf83 S_manuf_1983      rename S_manuf93 S_manuf_1993      rename S_manuf03 S_manuf_2003      rename S_truck83 S_truck_1983      rename S_truck93 S_truck_1993      rename S_truck03 S_truck_2003      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00       rename l_max_84bus l_bus_1983       rename l_max_94bus l_bus_1993       rename l_max_04bus l_bus_2003       rename l_transit84 l_transit_1983      rename l_transit94 l_transit_1993       rename l_transit04 l_transit_2003      rename l_ln_km_IHNU_83 l_ln_km_IHNU_1983      rename l_ln_km_IHNU_93 l_ln_km_IHNU_1993      rename l_ln_km_IHNU_03 l_ln_km_IHNU_2003      rename l_ln_km_IHU_83 l_ln_km_IHU_1983      rename l_ln_km_IHU_93 l_ln_km_IHU_1993      rename l_ln_km_IHU_03 l_ln_km_IHU_2003      rename l_ln_km_IH_83 l_ln_km_IH_1983      rename l_ln_km_IH_93 l_ln_km_IH_1993      rename l_ln_km_IH_03 l_ln_km_IH_2003      rename l_ln_km_MRU_83 l_ln_km_MRU_1983      rename l_ln_km_MRU_93 l_ln_km_MRU_1993      rename l_ln_km_MRU_03 l_ln_km_MRU_2003      	rename l_vmt_IHNU_83 l_vmt_IHNU_1983      rename l_vmt_IHNU_93 l_vmt_IHNU_1993      rename l_vmt_IHNU_03 l_vmt_IHNU_2003      rename l_vmt_IHU_83 l_vmt_IHU_1983      rename l_vmt_IHU_93 l_vmt_IHU_1993      rename l_vmt_IHU_03 l_vmt_IHU_2003      rename l_vmt_IH_83 l_vmt_IH_1983      rename l_vmt_IH_93 l_vmt_IH_1993      rename l_vmt_IH_03 l_vmt_IH_2003      rename l_vmt_MRU_83 l_vmt_MRU_1983      rename l_vmt_MRU_93 l_vmt_MRU_1993      rename l_vmt_MRU_03 l_vmt_MRU_2003	reshape long l_ln_km_IH  l_ln_km_IHU  l_ln_km_IHNU  l_ln_km_MRU l_vmt_IH l_vmt_IHU  l_vmt_IHNU  l_vmt_MRU l_bus l_transit sprawl S_somecollege l_mean_income S_poor S_manuf S_truck l_pop, i(msa ) j(year _1983 _1993 _2003)	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	iis msa	local cond "if zero>0"	local R "IH"	local V "3"			capture drop l_vmt l_ln	gen l_vmt = l_vmt_`R' 	gen l_ln  = l_ln_km_`R' 	xi: reg  l_vmt l_ln i.year, cl(msa) robust  	outreg2    l_ln using revision/table`V'.xls,ctitle(`R')  `instruct' replace	xi: reg  l_vmt l_ln l_pop i.year, cl(msa)  robust  	outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(`R')  `instruct' append 	xi: reg  l_vmt l_ln l_pop `geography' `census_div' i.year, cl(msa)  robust  	outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(`R')  `instruct' append 	xi: reg  l_vmt l_ln l_pop  `geography' `census_div' `demographics' `population' i.year,  cl(msa) robust  	outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(`R')  `instruct' append 	xi: xtreg  l_vmt l_ln i.year, fe robust  	outreg2    l_ln using revision/table`V'.xls,ctitle(FE `R')  `instruct' append	xi: xtreg  l_vmt l_ln l_pop i.year, fe robust  	outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 	xi: xtreg  l_vmt l_ln l_pop  `demographics' i.year, fe  robust  	outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 	xi: xtreg  l_vmt l_ln l_pop i.year `cond', fe  robust  	outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 	xi: xtreg  l_vmt l_ln l_pop i.year if (l_pop90 > 12.5860901), fe  robust  	outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 	xi: xtreg  l_vmt l_ln l_pop i.year if (l_pop90 < 12.5860901), fe  robust  	outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 	log close	}*#delimit ******************************************************************** ***     TABLE 5  FIRST DIFFERENCES                                   ******************************************************************** if 1==1{	quietly log using revision/table4, text replace	use $data, clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl_2003	rename sprawl_1976 sprawl_1993	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	*Generate first differences	gen  Dl_ln_IH_1993 = l_ln_km_IH_93 - l_ln_km_IH_83	gen  Dl_ln_IH_2003 = l_ln_km_IH_03 - l_ln_km_IH_93	gen  Dl_vmt_IH_1993 = l_vmt_IH_93 - l_vmt_IH_83 	gen  Dl_vmt_IH_2003 = l_vmt_IH_03 - l_vmt_IH_93 	gen  Dl_ln_IHU_1993 = l_ln_km_IHU_93 - l_ln_km_IHU_83	gen  Dl_ln_IHU_2003 = l_ln_km_IHU_03 - l_ln_km_IHU_93	gen  Dl_vmt_IHU_1993 = l_vmt_IHU_93 - l_vmt_IHU_83 	gen  Dl_vmt_IHU_2003 = l_vmt_IHU_03 - l_vmt_IHU_93 	gen  Dl_ln_IHNU_1993 = l_ln_km_IHNU_93 - l_ln_km_IHNU_83	gen  Dl_ln_IHNU_2003 = l_ln_km_IHNU_03 - l_ln_km_IHNU_93	gen  Dl_vmt_IHNU_1993 = l_vmt_IHNU_93 - l_vmt_IHNU_83 	gen  Dl_vmt_IHNU_2003 = l_vmt_IHNU_03 - l_vmt_IHNU_93 	gen  Dl_ln_MRU_1993 = l_ln_km_MRU_93 - l_ln_km_MRU_83	gen  Dl_ln_MRU_2003 = l_ln_km_MRU_03 - l_ln_km_MRU_93	gen  Dl_vmt_MRU_1993 = l_vmt_MRU_93 - l_vmt_MRU_83 	gen  Dl_vmt_MRU_2003 = l_vmt_MRU_03 - l_vmt_MRU_93 	gen Dl_pop_1993 = l_pop90 -l_pop80	gen Dl_pop_2003 = l_pop00 -l_pop90      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00            rename l_vmt_IHNU_83 l_vmt_IHNU_1993      rename l_vmt_IHNU_93 l_vmt_IHNU_2003      rename l_vmt_IHU_83 l_vmt_IHU_1993      rename l_vmt_IHU_93 l_vmt_IHU_2003      rename l_vmt_IH_83 l_vmt_IH_1993      rename l_vmt_IH_93 l_vmt_IH_2003      rename l_vmt_MRU_83 l_vmt_MRU_1993      rename l_vmt_MRU_93 l_vmt_MRU_2003 	rename S_somecollege_80 S_somecollege_1993 	rename l_mean_income_80 l_mean_income_1993 	rename S_poor_80 S_poor_1993 	rename S_manuf83 S_manuf_1993  	rename S_somecollege_90 S_somecollege_2003 	rename l_mean_income_90 l_mean_income_2003 	rename S_poor_90 S_poor_2003 	rename S_manuf93 S_manuf_2003 	rename g_exp00_90 g_exp_2003 	rename g_exp90_80 g_exp_1993 	reshape long Dl_ln_IH Dl_ln_IHU Dl_ln_MRU Dl_ln_IHNU                    Dl_vmt_IH Dl_vmt_IHU Dl_vmt_MRU Dl_vmt_IHNU                   l_vmt_IH l_vmt_IHU  l_vmt_IHNU  l_vmt_MRU                    sprawl S_somecollege l_mean_income S_poor S_manuf 			 Dl_pop l_pop g_exp, i(msa ) j(year _1993 _2003)	local i=0	*Threshold for road growth	local k=0.05	local m=-0.05	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics  "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	*instructions for outreg	iis msa	local R "IH"	local cond " "	local cond2 "if (Dl_ln_IH >`k')"	local cond3 "if (Dl_ln_IH <`m')"			capture drop Dl_vmt Dl_ln l_vmt	gen Dl_vmt = Dl_vmt_`R' 	gen Dl_ln  = Dl_ln_`R' 	gen l_vmt = l_vmt_`R' 	local V "4a"	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	xi: reg    Dl_vmt Dl_ln i.year `cond', cl(msa) robust  	outreg2    Dl_ln using revision/table`V'.xls,ctitle(OLS `R')  `instruct' replace 	xi: reg    Dl_vmt Dl_ln Dl_pop i.year `cond',  cl(msa) robust  	outreg2    Dl_ln Dl_pop using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: reg    Dl_vmt Dl_ln Dl_pop l_vmt i.year `cond',  cl(msa) robust  	outreg2    Dl_ln Dl_pop l_vmt using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: reg    Dl_vmt Dl_ln Dl_pop l_vmt `geography' `census_div' i.year `cond', cl(msa)  robust  	outreg2    Dl_ln Dl_pop l_vmt `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: reg    Dl_vmt Dl_ln Dl_pop l_vmt `geography' `census_div' `population' `demographics' i.year `cond', cl(msa)  robust  	outreg2    Dl_ln Dl_pop l_vmt `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: reg    Dl_vmt Dl_ln Dl_pop i.year `cond2',  cl(msa) robust  	outreg2    Dl_ln Dl_pop using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: reg    Dl_vmt Dl_ln Dl_pop l_vmt `geography' `census_div' `population' `demographics' i.year `cond2', cl(msa)  robust  	outreg2    Dl_ln Dl_pop l_vmt `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: reg   Dl_vmt Dl_ln Dl_pop l_vmt `geography' `census_div' `population' `demographics' i.year `cond3', cl(msa)  robust  	outreg2    Dl_ln Dl_pop l_vmt `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: reg  Dl_vmt Dl_ln i.year i.msa `cond', robust  	outreg2    Dl_ln using revision/table`V'.xls,ctitle(FE `R')  `instruct' append	xi: reg  Dl_vmt Dl_ln Dl_pop `demographics' i.msa i.year `cond',  robust  	outreg2    Dl_ln Dl_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 	local V "4b"	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 	xi: ivreg2 Dl_vmt Dl_ln i.year `cond', cl(msa) robust  	outreg2    Dl_ln using revision/table`V'.xls,ctitle(OLS `R')  `instruct' replace 	xi: ivreg2 Dl_vmt Dl_ln (Dl_pop = g_exp) i.year `cond',  cl(msa) robust  	outreg2    Dl_ln Dl_pop using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: ivreg2 Dl_vmt Dl_ln (Dl_pop = g_exp) l_vmt i.year `cond',  cl(msa) robust  	outreg2    Dl_ln Dl_pop l_vmt using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: ivreg2 Dl_vmt Dl_ln (Dl_pop = g_exp) l_vmt `geography' `census_div' i.year `cond', cl(msa)  robust  	outreg2    Dl_ln Dl_pop l_vmt `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: ivreg2 Dl_vmt Dl_ln (Dl_pop = g_exp) l_vmt `geography' `census_div' `population' `demographics' i.year `cond', cl(msa)  robust  	outreg2    Dl_ln Dl_pop l_vmt `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: ivreg2 Dl_vmt Dl_ln (Dl_pop = g_exp) i.year `cond2',  cl(msa) robust  	outreg2    Dl_ln Dl_pop using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: ivreg2 Dl_vmt Dl_ln (Dl_pop = g_exp) l_vmt `geography' `census_div' `population' `demographics' i.year `cond2', cl(msa)  robust  	outreg2    Dl_ln Dl_pop l_vmt `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: ivreg2 Dl_vmt Dl_ln (Dl_pop = g_exp) l_vmt `geography' `census_div' `population' `demographics' i.year `cond3', cl(msa)  robust  	outreg2    Dl_ln Dl_pop l_vmt `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: ivreg2 Dl_vmt Dl_ln i.year i.msa `cond', robust  	outreg2    Dl_ln using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 	xi: ivreg2 Dl_vmt Dl_ln (Dl_pop = g_exp) `demographics' i.msa i.year `cond',  robust  	outreg2    Dl_ln Dl_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 	log close	}******************************************************************** ***     APPENDIX TABLE 2  FIRST DIFFERENCE BY DECADE                 ******************************************************************** if 1==1{	quietly log using revision/tableA2, text replace	use $data, clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl93	rename sprawl_1976 sprawl83	gen sprawl03 = sprawl93	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	*Generate first differences	gen  Dl_ln_IH_1993 = l_ln_km_IH_93 - l_ln_km_IH_83	gen  Dl_ln_IH_2003 = l_ln_km_IH_03 - l_ln_km_IH_93	gen  Dl_vmt_IH_1993 = l_vmt_IH_93 - l_vmt_IH_83 	gen  Dl_vmt_IH_2003 = l_vmt_IH_03 - l_vmt_IH_93 	gen  Dl_ln_IHU_1993 = l_ln_km_IHU_93 - l_ln_km_IHU_83	gen  Dl_ln_IHU_2003 = l_ln_km_IHU_03 - l_ln_km_IHU_93	gen  Dl_vmt_IHU_1993 = l_vmt_IHU_93 - l_vmt_IHU_83 	gen  Dl_vmt_IHU_2003 = l_vmt_IHU_03 - l_vmt_IHU_93 	gen  Dl_ln_IHNU_1993 = l_ln_km_IHNU_93 - l_ln_km_IHNU_83	gen  Dl_ln_IHNU_2003 = l_ln_km_IHNU_03 - l_ln_km_IHNU_93	gen  Dl_vmt_IHNU_1993 = l_vmt_IHNU_93 - l_vmt_IHNU_83 	gen  Dl_vmt_IHNU_2003 = l_vmt_IHNU_03 - l_vmt_IHNU_93 	gen  Dl_ln_MRU_1993 = l_ln_km_MRU_93 - l_ln_km_MRU_83	gen  Dl_ln_MRU_2003 = l_ln_km_MRU_03 - l_ln_km_MRU_93	gen  Dl_vmt_MRU_1993 = l_vmt_MRU_93 - l_vmt_MRU_83 	gen  Dl_vmt_MRU_2003 = l_vmt_MRU_03 - l_vmt_MRU_93 	gen Dl_pop_1993 = l_pop90 -l_pop80	gen Dl_pop_2003 = l_pop00 -l_pop90      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00 	*Threshold for road growth*	local m=0.005	local m=-1	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics  "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	*instructions for outreg	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 			local V "A2"			local R "IH"			local cond "if Dl_ln>`m'"	local i=0	local j=1	while `j'<=2{		if `j'==1{			local year "1993"			local yrMM "83"			local yrXX "80"			local yrbus "84"			local population "l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==2{			local year "2003"			local yrMM "93"			local yrXX "90"			local yrbus "94"			local population " l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		capture drop l_pop l_vmt l_ln Dl_pop Dl_vmt Dl_ln l_max_bus sprawl l_transit l_mean_income S_somecollege S_poor S_manuf		gen l_pop 	= l_pop`yrXX' 		gen sprawl 	= sprawl`yrMM' 		gen l_mean_income = l_mean_income_`yrXX' 		gen S_somecollege = S_somecollege_`yrXX' 		gen S_poor 	= S_poor_`yrXX' 		gen S_manuf	= S_manuf`yrMM' 		gen l_vmt = l_vmt_`R'_`yrMM' 		gen l_ln  = l_ln_km_`R'_`yrMM' 		gen l_max_bus   = l_max_`yrbus'bus		gen l_transit   = l_transit`yrbus'		gen Dl_pop 	= Dl_pop_`year' 		gen Dl_ln 	= Dl_ln_`R'_`year' 		gen Dl_vmt 	= Dl_vmt_`R'_`year' 			local i= `i'+1		reg   Dl_vmt Dl_ln `cond',robust  		if `i'==1{		outreg2 Dl_ln using revision/table`V'.xls,ctitle(`R'`year'-`yrMM')  `instruct' replace		}		if `i'>1{		outreg2 Dl_ln using revision/table`V'.xls,ctitle(`R'`year'-`yrMM')  `instruct' append		}		local i= `i'+1		reg   Dl_vmt Dl_ln Dl_pop `cond', robust  		outreg2 Dl_ln Dl_pop using revision/table`V'.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 		local i= `i'+1		reg   Dl_vmt Dl_ln Dl_pop l_vmt `cond', robust  		outreg2 Dl_ln Dl_pop l_vmt using revision/table`V'.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 		local i= `i'+1		reg    Dl_vmt Dl_ln Dl_pop  `geography' `census_div' `cond', robust  		outreg2 Dl_ln Dl_pop  `geography' using revision/table`V'.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 		local i= `i'+1		reg    Dl_vmt Dl_ln Dl_pop l_vmt `geography' `census_div' `cond', robust  		outreg2 Dl_ln Dl_pop l_vmt `geography' using revision/table`V'.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 		local i= `i'+1		reg   Dl_vmt Dl_ln Dl_pop l_vmt `geography' `demographics' `population' `census_div' `cond', robust  		outreg2  Dl_ln Dl_pop l_vmt `geography' using revision/table`V'.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	      local j=`j'+1	      }	log close	}******************************************************************** ***     APPENDIX TABLE 3 FIRST DIFFERENCE BY DECADE WITH LAGS        ******************************************************************** if 1==1{	quietly log using revision/tableA3, text replace	use $data, clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl93	rename sprawl_1976 sprawl83	gen sprawl03 = sprawl93	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	*Generate first differences	gen  Dl_ln_IH_1993 = l_ln_km_IH_93 - l_ln_km_IH_83	gen  Dl_ln_IH_2003 = l_ln_km_IH_03 - l_ln_km_IH_93	gen  Dl_vmt_IH_1993 = l_vmt_IH_93 - l_vmt_IH_83 	gen  Dl_vmt_IH_2003 = l_vmt_IH_03 - l_vmt_IH_93 	gen  Dl_ln_IHU_1993 = l_ln_km_IHU_93 - l_ln_km_IHU_83	gen  Dl_ln_IHU_2003 = l_ln_km_IHU_03 - l_ln_km_IHU_93	gen  Dl_vmt_IHU_1993 = l_vmt_IHU_93 - l_vmt_IHU_83 	gen  Dl_vmt_IHU_2003 = l_vmt_IHU_03 - l_vmt_IHU_93 	gen  Dl_ln_IHNU_1993 = l_ln_km_IHNU_93 - l_ln_km_IHNU_83	gen  Dl_ln_IHNU_2003 = l_ln_km_IHNU_03 - l_ln_km_IHNU_93	gen  Dl_vmt_IHNU_1993 = l_vmt_IHNU_93 - l_vmt_IHNU_83 	gen  Dl_vmt_IHNU_2003 = l_vmt_IHNU_03 - l_vmt_IHNU_93 	gen  Dl_ln_MRU_1993 = l_ln_km_MRU_93 - l_ln_km_MRU_83	gen  Dl_ln_MRU_2003 = l_ln_km_MRU_03 - l_ln_km_MRU_93	gen  Dl_vmt_MRU_1993 = l_vmt_MRU_93 - l_vmt_MRU_83 	gen  Dl_vmt_MRU_2003 = l_vmt_MRU_03 - l_vmt_MRU_93 	gen Dl_pop_1993 = l_pop90 -l_pop80	gen Dl_pop_2003 = l_pop00 -l_pop90      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00 	*Threshold for road growth*	local m=0.005	local m=-1	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics  "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	*instructions for outreg	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local cond "if Dl_ln>`m'"	local year "2003"	local yrMM "93"	local yrXX "90"	local yrbus "94"	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local lag "1993"	gen l_pop 	= l_pop`yrXX' 	gen sprawl 	= sprawl`yrMM' 	gen l_mean_income = l_mean_income_`yrXX' 	gen S_somecollege = S_somecollege_`yrXX' 	gen S_poor 	= S_poor_`yrXX' 	gen S_manuf	= S_manuf`yrMM' 	gen l_vmt = l_vmt_IH_`yrMM' 	gen l_ln  = l_ln_km_IH_`yrMM' 	gen l_max_bus   = l_max_`yrbus'bus	gen l_transit   = l_transit`yrbus'	gen Dl_pop 	= Dl_pop_`year' 	gen Dl_ln 	= Dl_ln_IH_`year' 	gen Dl_vmt 	= Dl_vmt_IH_`year' 	gen Dl_ln2 	= Dl_ln_IH_`lag' 	reg   Dl_vmt Dl_ln2 `cond',robust  	outreg2 Dl_ln2 using revision/tableA3.xls,ctitle(`R'`year'-`yrMM')  `instruct' replace	reg   Dl_vmt Dl_ln2 Dl_pop `cond', robust  	outreg2 Dl_ln2 Dl_pop using revision/tableA3.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg   Dl_vmt Dl_ln2 Dl_pop l_vmt `cond', robust  	outreg2 Dl_ln2 Dl_pop l_vmt using revision/tableA3.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg    Dl_vmt Dl_ln2 Dl_pop  `geography' `census_div' `cond', robust  	outreg2 Dl_ln2 Dl_pop  `geography' using revision/tableA3.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg    Dl_vmt Dl_ln2 Dl_pop l_vmt `geography' `census_div' `cond', robust  	outreg2 Dl_ln2 Dl_pop l_vmt `geography' using revision/tableA3.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg   Dl_vmt Dl_ln2 Dl_pop l_vmt `geography' `demographics' `population' `census_div' `cond', robust  	outreg2  Dl_ln2 Dl_pop l_vmt `geography' using revision/tableA3.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg   Dl_vmt Dl_ln Dl_ln2 `cond',robust  	outreg2 Dl_ln Dl_ln2 using revision/tableA3.xls,ctitle(`R'`year'-`yrMM')  `instruct' append	reg   Dl_vmt Dl_ln Dl_ln2 Dl_pop `cond', robust  	outreg2 Dl_ln Dl_ln2 Dl_pop using revision/tableA3.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg   Dl_vmt Dl_ln Dl_ln2 Dl_pop l_vmt `cond', robust  	outreg2 Dl_ln Dl_ln2 Dl_pop l_vmt using revision/tableA3.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg    Dl_vmt Dl_ln Dl_ln2 Dl_pop  `geography' `census_div' `cond', robust  	outreg2 Dl_ln Dl_ln2 Dl_pop  `geography' using revision/tableA3.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg    Dl_vmt Dl_ln Dl_ln2 Dl_pop l_vmt `geography' `census_div' `cond', robust  	outreg2 Dl_ln Dl_ln2 Dl_pop l_vmt `geography' using revision/tableA3.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg   Dl_vmt Dl_ln Dl_ln2 Dl_pop l_vmt `geography' `demographics' `population' `census_div' `cond', robust  	outreg2  Dl_ln Dl_ln2 Dl_pop l_vmt `geography' using revision/tableA3.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	log close	}************************************************************************** ***     APPENDIX TABLE 4 FIRST DIFFERENCE BY DECADE WITH REVERSE LAGS      ************************************************************************** if 1==1{	quietly log using revision/tableA4, text replace	use $data, clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl93	rename sprawl_1976 sprawl83	gen sprawl03 = sprawl93	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	*Generate first differences	gen  Dl_ln_IH_1993 = l_ln_km_IH_93 - l_ln_km_IH_83	gen  Dl_ln_IH_2003 = l_ln_km_IH_03 - l_ln_km_IH_93	gen  Dl_vmt_IH_1993 = l_vmt_IH_93 - l_vmt_IH_83 	gen  Dl_vmt_IH_2003 = l_vmt_IH_03 - l_vmt_IH_93 	gen  Dl_ln_IHU_1993 = l_ln_km_IHU_93 - l_ln_km_IHU_83	gen  Dl_ln_IHU_2003 = l_ln_km_IHU_03 - l_ln_km_IHU_93	gen  Dl_vmt_IHU_1993 = l_vmt_IHU_93 - l_vmt_IHU_83 	gen  Dl_vmt_IHU_2003 = l_vmt_IHU_03 - l_vmt_IHU_93 	gen  Dl_ln_IHNU_1993 = l_ln_km_IHNU_93 - l_ln_km_IHNU_83	gen  Dl_ln_IHNU_2003 = l_ln_km_IHNU_03 - l_ln_km_IHNU_93	gen  Dl_vmt_IHNU_1993 = l_vmt_IHNU_93 - l_vmt_IHNU_83 	gen  Dl_vmt_IHNU_2003 = l_vmt_IHNU_03 - l_vmt_IHNU_93 	gen  Dl_ln_MRU_1993 = l_ln_km_MRU_93 - l_ln_km_MRU_83	gen  Dl_ln_MRU_2003 = l_ln_km_MRU_03 - l_ln_km_MRU_93	gen  Dl_vmt_MRU_1993 = l_vmt_MRU_93 - l_vmt_MRU_83 	gen  Dl_vmt_MRU_2003 = l_vmt_MRU_03 - l_vmt_MRU_93 	gen Dl_pop_1993 = l_pop90 -l_pop80	gen Dl_pop_2003 = l_pop00 -l_pop90      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00 	*Threshold for road growth*	local m=0.005	local m=-1	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics  "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	*instructions for outreg	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local cond "if Dl_ln>`m'"	local year "1993"	local yrMM "93"	local yrXX "90"	local yrbus "94"	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local lag "2003"	gen l_pop 	= l_pop`yrXX' 	gen sprawl 	= sprawl`yrMM' 	gen l_mean_income = l_mean_income_`yrXX' 	gen S_somecollege = S_somecollege_`yrXX' 	gen S_poor 	= S_poor_`yrXX' 	gen S_manuf	= S_manuf`yrMM' 	gen l_vmt = l_vmt_IH_`yrMM' 	gen l_ln  = l_ln_km_IH_`yrMM' 	gen l_max_bus   = l_max_`yrbus'bus	gen l_transit   = l_transit`yrbus'	gen Dl_pop 	= Dl_pop_`year' 	gen Dl_ln 	= Dl_ln_IH_`year' 	gen Dl_vmt 	= Dl_vmt_IH_`year' 	gen Dl_ln2 	= Dl_ln_IH_`lag' 	reg   Dl_vmt Dl_ln2 `cond',robust  	outreg2 Dl_ln2 using revision/tableA4.xls,ctitle(`R'`year'-`yrMM')  `instruct' replace	reg   Dl_vmt Dl_ln2 Dl_pop `cond', robust  	outreg2 Dl_ln2 Dl_pop using revision/tableA4.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg   Dl_vmt Dl_ln2 Dl_pop l_vmt `cond', robust  	outreg2 Dl_ln2 Dl_pop l_vmt using revision/tableA4.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg    Dl_vmt Dl_ln2 Dl_pop  `geography' `census_div' `cond', robust  	outreg2 Dl_ln2 Dl_pop  `geography' using revision/tableA4.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg    Dl_vmt Dl_ln2 Dl_pop l_vmt `geography' `census_div' `cond', robust  	outreg2 Dl_ln2 Dl_pop l_vmt `geography' using revision/tableA4.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg   Dl_vmt Dl_ln2 Dl_pop l_vmt `geography' `demographics' `population' `census_div' `cond', robust  	outreg2  Dl_ln2 Dl_pop l_vmt `geography' using revision/tableA4.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg   Dl_vmt Dl_ln Dl_ln2 `cond',robust  	outreg2 Dl_ln Dl_ln2 using revision/tableA4.xls,ctitle(`R'`year'-`yrMM')  `instruct' append	reg   Dl_vmt Dl_ln Dl_ln2 Dl_pop `cond', robust  	outreg2 Dl_ln Dl_ln2 Dl_pop using revision/tableA4.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg   Dl_vmt Dl_ln Dl_ln2 Dl_pop l_vmt `cond', robust  	outreg2 Dl_ln Dl_ln2 Dl_pop l_vmt using revision/tableA4.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg    Dl_vmt Dl_ln Dl_ln2 Dl_pop  `geography' `census_div' `cond', robust  	outreg2 Dl_ln Dl_ln2 Dl_pop  `geography' using revision/tableA4.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg    Dl_vmt Dl_ln Dl_ln2 Dl_pop l_vmt `geography' `census_div' `cond', robust  	outreg2 Dl_ln Dl_ln2 Dl_pop l_vmt `geography' using revision/tableA4.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	reg   Dl_vmt Dl_ln Dl_ln2 Dl_pop l_vmt `geography' `demographics' `population' `census_div' `cond', robust  	outreg2  Dl_ln Dl_ln2 Dl_pop l_vmt `geography' using revision/tableA4.xls,ctitle(`R'`year'-`yrMM')  `instruct' append 	log close	}*************************************** ***     TABLE 6  IV                     *************************************** * THIS TABLE IS IN 8 PANELS FOR IH PLAYING WITH INSTRUMENTS AND POOLED VS. BY DECADE* THE FIRST PART GENERATES THE FIRST 5 PANELS (POOLED). THE SECOND THE LAST THREE (BY DECADE)if 1==1{	quietly log using revision/table5, text replace	use $data,clear	* Selection of observations	drop if l_ln_km_IH_83==0	rename sprawl_1992 sprawl_1993	rename sprawl_1976 sprawl_1983	gen sprawl_2003 = sprawl_1993	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100      rename S_somecollege_80 S_somecollege_1983      rename S_somecollege_00 S_somecollege_2003      rename S_somecollege_90 S_somecollege_1993      rename S_poor_80 S_poor_1983      rename S_poor_90 S_poor_1993      rename S_poor_00 S_poor_2003      rename l_mean_income_80 l_mean_income_1983      rename l_mean_income_90 l_mean_income_1993      rename l_mean_income_00 l_mean_income_2003      rename S_manuf83 S_manuf_1983      rename S_manuf93 S_manuf_1993      rename S_manuf03 S_manuf_2003      rename S_truck83 S_truck_1983      rename S_truck93 S_truck_1993      rename S_truck03 S_truck_2003      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00       rename l_max_84bus l_bus_1983       rename l_max_94bus l_bus_1993       rename l_max_04bus l_bus_2003       rename l_transit84 l_transit_1983      rename l_transit94 l_transit_1993       rename l_transit04 l_transit_2003      rename l_ln_km_IHU_83 l_ln_km_IHU_1983      rename l_ln_km_IHU_93 l_ln_km_IHU_1993      rename l_ln_km_IHU_03 l_ln_km_IHU_2003      rename l_ln_km_IH_83 l_ln_km_IH_1983      rename l_ln_km_IH_93 l_ln_km_IH_1993      rename l_ln_km_IH_03 l_ln_km_IH_2003      rename l_ln_km_MRU_83 l_ln_km_MRU_1983      rename l_ln_km_MRU_93 l_ln_km_MRU_1993      rename l_ln_km_MRU_03 l_ln_km_MRU_2003            rename l_vmt_IHU_83 l_vmt_IHU_1983      rename l_vmt_IHU_93 l_vmt_IHU_1993      rename l_vmt_IHU_03 l_vmt_IHU_2003      rename l_vmt_IH_83 l_vmt_IH_1983      rename l_vmt_IH_93 l_vmt_IH_1993      rename l_vmt_IH_03 l_vmt_IH_2003      rename l_vmt_MRU_83 l_vmt_MRU_1983      rename l_vmt_MRU_93 l_vmt_MRU_1993      rename l_vmt_MRU_03 l_vmt_MRU_2003	reshape long l_ln_km_IH  l_ln_km_IHU  l_ln_km_IHNU  l_ln_km_MRU l_vmt_IH l_vmt_IHU  l_vmt_IHNU  l_vmt_MRU l_bus l_transit sprawl S_somecollege l_mean_income S_poor S_manuf S_truck l_pop, i(msa ) j(year _1983 _1993 _2003)	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 	local instruct2 "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	iis msa	local j=1	while `j'<=5{		if `j'==1{			local R "IH"			local Inst "l_rail1898 l_hwy1947 l_pix1835"			local V "5_a"			local cond " ,"			}		if `j'==2{			local R "IH"			local Inst "l_rail1898 l_hwy1947 l_pix1835"			local V "5_b"			local cond ", liml"			}		if `j'==3{			local R "IH"			local Inst "l_hwy1947"			local V "5_c"			local cond ","			}		if `j'==4{			local R "IH"			local Inst "l_rail1898"			local V "5_d"			local cond ", "			}		if `j'==5{			local R "IH"			local Inst "l_pix1835"			local V "5_e"			local cond ", "			}				capture drop l_vmt l_ln		gen l_vmt = l_vmt_`R' 		gen l_ln  = l_ln_km_`R' 		xi: ivreg2 l_vmt (l_ln=`Inst') i.year `cond'  ffirst cl(msa) robust  		outreg2    l_ln using revision/table`V'.xls,ctitle(IV `R')  `instruct' replace		xi: ivreg2 l_vmt (l_ln=`Inst') l_pop i.year `cond' ffirst cl(msa) robust  		outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(IV `R')  `instruct' append 		xi: ivreg2 l_vmt (l_ln=`Inst') l_pop  `geography' `census_div' i.year `cond' ffirst cl(msa)  robust  		outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(IV `R')  `instruct' append 		xi: ivreg2 l_vmt (l_ln=`Inst') l_pop  `geography' `census_div' `demographics' i.year `cond' ffirst cl(msa)  robust  		outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(IV `R')  `instruct' append 		xi: ivreg2 l_vmt (l_ln=`Inst') l_pop  `geography' `census_div' `population' `demographics' i.year `cond' ffirst cl(msa)  robust  		outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(IV `R')  `instruct' append 		local j=`j'+1		}	use $data,clear	rename sprawl_1992 sprawl93	rename sprawl_1976 sprawl83	gen sprawl03 = sprawl93	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93)	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local geography2 "pc_aquifer_msa elevat_range_msa ruggedness_msa heating_dd cooling_dd pc_aquifer_msa2 elevat_range_msa2 ruggedness_msa2 eleva_rug sprawl"	local demographics "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local i=0	local j=1	while `j'<=3{		if `j'==1{			local R "IH"			local Inst "l_rail1898 l_hwy1947"			local V "5_f"			local cond " liml"			local year "1983"			local yrMM "83"			local yrXX "80"			local yrbus "84"			local population "l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==2{			local R "IH"			local Inst "l_rail1898 l_hwy1947"			local V "5_g"			local cond "liml"			local year "1993"			local yrMM "93"			local yrXX "90"			local yrbus "94"			local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==3{			local R "IH"			local Inst "l_rail1898 l_hwy1947"			local V "5_h"			local cond "liml"			local year "2003"			local yrMM "03"			local yrXX "00"			local yrbus "04"			local population "l_pop90 l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		capture drop l_pop l_vmt l_ln l_max_bus sprawl l_transit l_mean_income S_somecollege S_poor S_manuf		gen l_pop 	= l_pop`yrXX' 		gen sprawl 	= sprawl`yrMM' 		gen l_mean_income = l_mean_income_`yrXX' 		gen S_somecollege = S_somecollege_`yrXX' 		gen S_poor 	= S_poor_`yrXX' 		gen S_manuf	= S_manuf`yrMM' 		gen l_vmt = l_vmt_`R'_`yrMM' 		gen l_ln  = l_ln_km_`R'_`yrMM' 		gen l_max_bus   = l_max_`yrbus'bus		gen l_transit   = l_transit`yrbus'				local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 		ivreg2 l_vmt (l_ln=`Inst'), `cond'  first  robust  		outreg2    l_ln using revision/table`V'.xls,ctitle(IV `R')  `instruct' replace		ivreg2 l_vmt (l_ln=`Inst') l_pop, `cond' first robust  		outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(IV `R')  `instruct' append 		ivreg2 l_vmt (l_ln=`Inst') l_pop  `geography' `census_div', `cond' first   robust  		outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(IV `R')  `instruct' append 		ivreg2 l_vmt (l_ln=`Inst') l_pop  `geography' `census_div' `demographics', `cond' first  robust  		outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(IV `R')  `instruct' append 		ivreg2 l_vmt (l_ln=`Inst') l_pop  `geography' `census_div' `population' `demographics', `cond' first robust  		outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(IV `R')  `instruct' append 		local j=`j'+1		}	log close	}******************************************************************** ***     TABLE 7  BUSES POOLED REGRESSIONS OLS+IV                     ******************************************************************** if 1==1{	quietly log using revision/table6, text replace	use $data,clear	* Selection of observations	drop if l_ln_km_IH_83==0	rename sprawl_1992 sprawl_1993	rename sprawl_1976 sprawl_1983	gen sprawl_2003 = sprawl_1993	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100      rename S_somecollege_80 S_somecollege_1983      rename S_somecollege_00 S_somecollege_2003      rename S_somecollege_90 S_somecollege_1993      rename S_poor_80 S_poor_1983      rename S_poor_90 S_poor_1993      rename S_poor_00 S_poor_2003      rename l_mean_income_80 l_mean_income_1983      rename l_mean_income_90 l_mean_income_1993      rename l_mean_income_00 l_mean_income_2003      rename S_manuf83 S_manuf_1983      rename S_manuf93 S_manuf_1993      rename S_manuf03 S_manuf_2003      rename S_truck83 S_truck_1983      rename S_truck93 S_truck_1993      rename S_truck03 S_truck_2003      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00       rename l_ln_km_IH_83 l_ln_km_IH_1983      rename l_ln_km_IH_93 l_ln_km_IH_1993      rename l_ln_km_IH_03 l_ln_km_IH_2003      rename l_vmt_IH_83 l_vmt_IH_1983      rename l_vmt_IH_93 l_vmt_IH_1993      rename l_vmt_IH_03 l_vmt_IH_2003      rename l_max_84bus l_bus_1983       rename l_max_94bus l_bus_1993       rename l_max_04bus l_bus_2003       rename l_transit84 l_transit_1983      rename l_transit94 l_transit_1993       rename l_transit04 l_transit_2003	reshape long l_ln_km_IH  l_vmt_IH  l_bus l_transit sprawl S_somecollege l_mean_income S_poor S_manuf S_truck l_pop, i(msa ) j(year _1983 _1993 _2003)	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local instruct2 "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 	iis msa	local R "IH"	local Inst "l_rail1898 l_hwy1947 demvote_sh72"	local cond " "	capture drop l_vmt l_ln	gen l_vmt = l_vmt_`R' 	gen l_ln  = l_ln_km_`R' 	xi: reg    l_vmt l_ln l_bus i.year `cond', cl(msa) robust  	outreg2    l_ln l_bus using revision/table6.xls,ctitle(OLS `R')  `instruct' replace	xi: reg    l_vmt l_ln l_bus l_pop i.year `cond',  cl(msa) robust  	outreg2    l_ln l_bus l_pop using revision/table6.xls,ctitle(OLS `R')  `instruct' append 	xi: reg    l_vmt l_ln l_bus l_pop  `geography' `census_div' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_bus l_pop  `geography' using revision/table6.xls,ctitle(OLS `R')  `instruct' append 	xi: reg    l_vmt l_ln l_bus l_pop  `geography' `census_div' `population' `demographics' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_bus l_pop  `geography' using revision/table6.xls,ctitle(OLS `R')  `instruct' append 	xi: xtreg  l_vmt l_ln l_bus i.year `cond', fe robust  	outreg2    l_ln l_bus using revision/table6.xls,ctitle(FE `R')  `instruct' append	xi: xtreg  l_vmt l_ln l_bus l_pop i.year `cond',  fe robust  	outreg2    l_ln l_bus l_pop using revision/table6.xls,ctitle(FE `R')  `instruct' append 	xi: ivreg2 l_vmt (l_ln l_bus=`Inst') i.year `cond',  liml cl(msa) robust  	outreg2    l_ln l_bus using revision/table6.xls,ctitle(IV `R')  `instruct2' append	xi: ivreg2 l_vmt (l_ln l_bus=`Inst') l_pop i.year `cond', liml cl(msa) robust  	outreg2    l_ln l_bus l_pop using revision/table6.xls,ctitle(IV `R')  `instruct2' append 	xi: ivreg2 l_vmt (l_ln l_bus=`Inst') l_pop  `geography' `census_div' i.year `cond', liml cl(msa)  robust  	outreg2    l_ln l_bus l_pop  `geography' using revision/table6.xls,ctitle(IV `R')  `instruct2' append 	xi: ivreg2 l_vmt (l_ln l_bus=`Inst') l_pop  `geography' `census_div' `population' `demographics' i.year `cond', liml cl(msa)  robust  	outreg2    l_ln l_bus l_pop  `geography' using revision/table6.xls,ctitle(IV `R')  `instruct2' append 	log close	}******************************************************************** ***     APPENDIX TABLE 5  BUSES BY DECADE   OLS+IV                   ******************************************************************** if 1==1{	quietly log using revision/tableA5, text replace	use $data,clear	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93)	rename sprawl_1992 sprawl93	rename sprawl_1976 sprawl83	gen sprawl03 = sprawl93	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local instruct2 "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" *	local Inst "l_rail1898 l_hwy1947 l_pix1835 demvote_sh72"	local Inst "l_rail1898 l_hwy1947 demvote_sh72"	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local k=1	while `k'<=2{		if `k'==1{			local V "a"			local R "IH"			local cond " "			}		if `k'==2{			local V "b"			local R "IHU"			local cond "if zero>0"			}	local i=0	local j=1	while `j'<=3{		if `j'==1{			local year "1983"			local yrMM "83"			local yrXX "80"			local yrbus "84"			local population "l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==2{			local year "1993"			local yrMM "93"			local yrXX "90"			local yrbus "94"			local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==3{			local year "2003"			local yrMM "03"			local yrXX "00"			local yrbus "04"			local population "l_pop90 l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		capture drop l_pop l_vmt l_ln l_max_bus sprawl l_transit l_mean_income S_somecollege S_poor S_manuf		gen l_pop 	= l_pop`yrXX' 		gen sprawl 	= sprawl`yrMM' 		gen l_mean_income = l_mean_income_`yrXX' 		gen S_somecollege = S_somecollege_`yrXX' 		gen S_poor 	= S_poor_`yrXX' 		gen S_manuf	= S_manuf`yrMM' 		gen l_vmt = l_vmt_`R'_`yrMM' 		gen l_ln  = l_ln_km_`R'_`yrMM' 		gen l_max_bus   = l_max_`yrbus'bus		gen l_transit   = l_transit`yrbus'				local i= `i'+1		reg   l_vmt l_ln l_max_bus l_pop `cond',robust  		if `i'==1{		outreg2 l_ln l_max_bus l_pop using revision/tableA5`V'.xls,ctitle(`R'`yrMM')  `instruct' replace		}		if `i'>1{		outreg2 l_ln l_max_bus l_pop using revision/tableA5`V'.xls,ctitle(`R'`yrMM')  `instruct' append		}		reg    l_vmt l_ln l_max_bus l_pop  `geography' `census_div' `cond', robust  		outreg2 l_ln l_max_bus l_pop  `geography' using revision/tableA5`V'.xls,ctitle(`R'`yrMM')  `instruct' append 				reg   l_vmt l_ln l_max_bus l_pop `geography' `demographics' `population' `census_div' `cond', robust  		outreg2  l_ln l_max_bus l_pop  `geography' using revision/tableA5`V'.xls,ctitle(`R'`yrMM')  `instruct' append 		xi: ivreg2 l_vmt (l_ln l_max_bus =`Inst') l_pop  `geography' `census_div' `cond', liml cl(msa)  robust  		outreg2    l_ln l_max_bus l_pop  `geography' using revision/tableA5`V'.xls,ctitle(`R'`yrMM')  `instruct2' append 	      local j=`j'+1	      }	local k=`k'+1	}	log close	}******************************************************************** ***     APPENDIX TABLE 6  TRANSIT POOLED REGRESSIONS OLS+IV          ******************************************************************** if 1==1{	quietly log using revision/tableA6, text replace	use $data,clear	* Selection of observations	drop if l_ln_km_IH_83==0	rename sprawl_1992 sprawl_1993	rename sprawl_1976 sprawl_1983	gen sprawl_2003 = sprawl_1993	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100      rename S_somecollege_80 S_somecollege_1983      rename S_somecollege_00 S_somecollege_2003      rename S_somecollege_90 S_somecollege_1993      rename S_poor_80 S_poor_1983      rename S_poor_90 S_poor_1993      rename S_poor_00 S_poor_2003      rename l_mean_income_80 l_mean_income_1983      rename l_mean_income_90 l_mean_income_1993      rename l_mean_income_00 l_mean_income_2003      rename S_manuf83 S_manuf_1983      rename S_manuf93 S_manuf_1993      rename S_manuf03 S_manuf_2003      rename S_truck83 S_truck_1983      rename S_truck93 S_truck_1993      rename S_truck03 S_truck_2003      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00       rename l_ln_km_IH_83 l_ln_km_IH_1983      rename l_ln_km_IH_93 l_ln_km_IH_1993      rename l_ln_km_IH_03 l_ln_km_IH_2003      rename l_vmt_IH_83 l_vmt_IH_1983      rename l_vmt_IH_93 l_vmt_IH_1993      rename l_vmt_IH_03 l_vmt_IH_2003      rename l_max_84bus l_bus_1983       rename l_max_94bus l_bus_1993       rename l_max_04bus l_bus_2003       rename l_transit84 l_transit_1983      rename l_transit94 l_transit_1993       rename l_transit04 l_transit_2003	reshape long l_ln_km_IH  l_vmt_IH  l_bus l_transit sprawl S_somecollege l_mean_income S_poor S_manuf S_truck l_pop, i(msa ) j(year _1983 _1993 _2003)	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local instruct2 "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 	iis msa	local R "IH"	local Inst "l_rail1898 l_hwy1947 demvote_sh72"	local cond " "	capture drop l_vmt l_ln	gen l_vmt = l_vmt_`R' 	gen l_ln  = l_ln_km_`R' 	xi: reg    l_vmt l_ln l_transit i.year `cond', cl(msa) robust  	outreg2    l_ln l_transit using revision/tableA6.xls,ctitle(OLS `R')  `instruct' replace	xi: reg    l_vmt l_ln l_transit l_pop i.year `cond',  cl(msa) robust  	outreg2    l_ln l_transit l_pop using revision/tableA6.xls,ctitle(OLS `R')  `instruct' append 	xi: reg    l_vmt l_ln l_transit l_pop  `geography' `census_div' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_transit l_pop  `geography' using revision/tableA6.xls,ctitle(OLS `R')  `instruct' append 	xi: reg    l_vmt l_ln l_transit l_pop  `geography' `census_div' `population' `demographics' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_transit l_pop  `geography' using revision/tableA6.xls,ctitle(OLS `R')  `instruct' append 	xi: xtreg  l_vmt l_ln l_transit i.year `cond', fe robust  	outreg2    l_ln l_transit using revision/tableA6.xls,ctitle(FE `R')  `instruct' append	xi: xtreg  l_vmt l_ln l_transit l_pop i.year `cond',  fe robust  	outreg2    l_ln l_transit l_pop using revision/tableA6.xls,ctitle(FE `R')  `instruct' append 	xi: ivreg2 l_vmt (l_ln l_transit=`Inst') i.year `cond',  liml cl(msa) robust  	outreg2    l_ln l_transit using revision/tableA6.xls,ctitle(IV `R')  `instruct2' append	xi: ivreg2 l_vmt (l_ln l_transit=`Inst') l_pop i.year `cond', liml cl(msa) robust  	outreg2    l_ln l_transit l_pop using revision/tableA6.xls,ctitle(IV `R')  `instruct2' append 	xi: ivreg2 l_vmt (l_ln l_transit=`Inst') l_pop  `geography' `census_div' i.year `cond', liml cl(msa)  robust  	outreg2    l_ln l_transit l_pop  `geography' using revision/tableA6.xls,ctitle(IV `R')  `instruct2' append 	xi: ivreg2 l_vmt (l_ln l_transit=`Inst') l_pop  `geography' `census_div' `population' `demographics' i.year `cond', liml cl(msa)  robust  	outreg2    l_ln l_transit l_pop  `geography' using revision/tableA6.xls,ctitle(IV `R')  `instruct2' append 	log close	}******************************************************************** ***     TABLE 8         Beta convergence in AADT  (POOLED)           ******************************************************************** if 1==1{quietly log using revision/table7, text replaceuse $data, clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_aadt_IHNU_83 = l_vmt_IHNU_83 - l_rd_km_IHNU_83 	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_aadt_IHNU_93 = l_vmt_IHNU_93 - l_rd_km_IHNU_93 	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	gen l_aadt_IHNU_03 = l_vmt_IHNU_03 - l_rd_km_IHNU_03 	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl_2003	rename sprawl_1976 sprawl_1993	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	*Generate first differences	gen  Dl_ln_IH_1993 = l_ln_km_IH_93 - l_ln_km_IH_83	gen  Dl_ln_IH_2003 = l_ln_km_IH_03 - l_ln_km_IH_93	gen  Dl_vmt_IH_1993 = l_vmt_IH_93 - l_vmt_IH_83 	gen  Dl_vmt_IH_2003 = l_vmt_IH_03 - l_vmt_IH_93 	gen  Dl_aadt_IH_1993 = l_aadt_IH_93 - l_aadt_IH_83 	gen  Dl_aadt_IH_2003 = l_aadt_IH_03 - l_aadt_IH_93 	gen Dl_pop_1993 = l_pop90 -l_pop80	gen Dl_pop_2003 = l_pop00 -l_pop90      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00      	gen g_exp_2003=g_exp00_90	gen g_exp_1993=g_exp90_80      rename l_aadt_IH_83 l_aadt_IH_1993      rename l_aadt_IH_93 l_aadt_IH_2003 	rename S_somecollege_80 S_somecollege_1993 	rename l_mean_income_80 l_mean_income_1993 	rename S_poor_80 S_poor_1993 	rename S_manuf83 S_manuf_1993  	rename S_somecollege_90 S_somecollege_2003 	rename l_mean_income_90 l_mean_income_2003 	rename S_poor_90 S_poor_2003 	rename S_manuf93 S_manuf_2003 	reshape long Dl_ln_IH Dl_aadt_IH l_aadt_IH                  sprawl S_somecollege l_mean_income S_poor S_manuf g_exp			 Dl_pop l_pop, i(msa ) j(year _1993 _2003)	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics  "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	*instructions for outreg	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local instruct2 "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 	iis msa	local R "IH"	capture drop Dl_aadt Dl_ln l_aadt 	gen Dl_aadt = Dl_aadt_`R' 	gen Dl_ln  = Dl_ln_`R' 	gen l_aadt = l_aadt_`R' 	xi: reg    Dl_aadt l_aadt i.year, cl(msa) robust  	outreg2    l_aadt using revision/table7.xls,ctitle(OLS `R')  `instruct' replace	xi: reg    Dl_aadt l_aadt Dl_pop i.year, cl(msa) robust  	outreg2    l_aadt  Dl_pop using revision/table7.xls,ctitle(OLS `R')  `instruct' append	xi: reg    Dl_aadt l_aadt Dl_pop  `geography' `census_div' i.year, cl(msa) robust  	outreg2    l_aadt  Dl_pop using revision/table7.xls,ctitle(OLS `R')  `instruct' append	xi: reg    Dl_aadt l_aadt Dl_pop  `geography' `census_div' `population' `demographics' i.year, cl(msa) robust  	outreg2    l_aadt  Dl_pop using revision/table7.xls,ctitle(OLS `R')  `instruct' append	xi: xtreg  Dl_aadt l_aadt i.year, fe robust  	outreg2    l_aadt using revision/table7.xls,ctitle(FE `R')  `instruct' append	xi: ivreg2 Dl_aadt l_aadt  (Dl_pop =g_exp) S_manuf i.year `geography' `census_div', cl(msa) robust  	outreg2    l_aadt Dl_pop using revision/table7.xls,ctitle(IV `R')  `instruct2' append	log close	}******************************************************************** ***     NON_TABLE RESULT: SIGMA convergence in AADT                    ******************************************************************** if 1==1{ *TURN ON PART 1 TO AVOID PROBLEMSquietly log using revision/table7text, text replaceuse $data, clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_aadt_IHNU_83 = l_vmt_IHNU_83 - l_rd_km_IHNU_83 	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_aadt_IHNU_93 = l_vmt_IHNU_93 - l_rd_km_IHNU_93 	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	gen l_aadt_IHNU_03 = l_vmt_IHNU_03 - l_rd_km_IHNU_03 	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)sum l_vmt_IH_83  l_vmt_IH_93  l_vmt_IH_03sum l_ln_km_IH_83  l_ln_km_IH_93  l_ln_km_IH_03sum l_aadt_IH_83  l_aadt_IH_93  l_aadt_IH_03drop if zero == 0sum l_vmt_IH_83  l_vmt_IH_93  l_vmt_IH_03sum l_ln_km_IH_83  l_ln_km_IH_93  l_ln_km_IH_03sum l_aadt_IH_83  l_aadt_IH_93  l_aadt_IH_03sum l_vmt_IHU_83  l_vmt_IHU_93  l_vmt_IHU_03sum l_ln_km_IHU_83  l_ln_km_IHU_93  l_ln_km_IHU_03sum l_aadt_IHU_83  l_aadt_IHU_93  l_aadt_IHU_03sum l_vmt_MRU_83  l_vmt_MRU_93  l_vmt_MRU_03sum l_ln_km_MRU_83  l_ln_km_MRU_93  l_ln_km_MRU_03sum l_aadt_MRU_83  l_aadt_MRU_93  l_aadt_MRU_03sum l_vmt_IHNU_83  l_vmt_IHNU_93  l_vmt_IHNU_03sum l_ln_km_IHNU_83  l_ln_km_IHNU_93  l_ln_km_IHNU_03sum l_aadt_IHNU_83  l_aadt_IHNU_93  l_aadt_IHNU_03log close}******************************************************************** ***     APPENDIX TABLE 7  Beta convergence in AADT  (POOLED)         ******************************************************************** if 1==1{quietly log using revision/tableA7, text replaceuse $data, clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_aadt_IHNU_83 = l_vmt_IHNU_83 - l_rd_km_IHNU_83 	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_aadt_IHNU_93 = l_vmt_IHNU_93 - l_rd_km_IHNU_93 	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	gen l_aadt_IHNU_03 = l_vmt_IHNU_03 - l_rd_km_IHNU_03 	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl_2003	rename sprawl_1976 sprawl_1993	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	*Generate first differences	gen  Dl_ln_IH_1993 = l_ln_km_IH_93 - l_ln_km_IH_83	gen  Dl_ln_IH_2003 = l_ln_km_IH_03 - l_ln_km_IH_93	gen  Dl_vmt_IH_1993 = l_vmt_IH_93 - l_vmt_IH_83 	gen  Dl_vmt_IH_2003 = l_vmt_IH_03 - l_vmt_IH_93 	gen  Dl_aadt_IH_1993 = l_aadt_IH_93 - l_aadt_IH_83 	gen  Dl_aadt_IH_2003 = l_aadt_IH_03 - l_aadt_IH_93 	gen  Dl_ln_IHU_1993 = l_ln_km_IHU_93 - l_ln_km_IHU_83	gen  Dl_ln_IHU_2003 = l_ln_km_IHU_03 - l_ln_km_IHU_93	gen  Dl_vmt_IHU_1993 = l_vmt_IHU_93 - l_vmt_IHU_83 	gen  Dl_vmt_IHU_2003 = l_vmt_IHU_03 - l_vmt_IHU_93 	gen  Dl_aadt_IHU_1993 = l_aadt_IHU_93 - l_aadt_IHU_83 	gen  Dl_aadt_IHU_2003 = l_aadt_IHU_03 - l_aadt_IHU_93 	gen  Dl_ln_IHNU_1993 = l_ln_km_IHNU_93 - l_ln_km_IHNU_83	gen  Dl_ln_IHNU_2003 = l_ln_km_IHNU_03 - l_ln_km_IHNU_93	gen  Dl_vmt_IHNU_1993 = l_vmt_IHNU_93 - l_vmt_IHNU_83 	gen  Dl_vmt_IHNU_2003 = l_vmt_IHNU_03 - l_vmt_IHNU_93 	gen  Dl_aadt_IHNU_1993 = l_aadt_IHNU_93 - l_aadt_IHNU_83 	gen  Dl_aadt_IHNU_2003 = l_aadt_IHNU_03 - l_aadt_IHNU_93 	gen  Dl_ln_MRU_1993 = l_ln_km_MRU_93 - l_ln_km_MRU_83	gen  Dl_ln_MRU_2003 = l_ln_km_MRU_03 - l_ln_km_MRU_93	gen  Dl_vmt_MRU_1993 = l_vmt_MRU_93 - l_vmt_MRU_83 	gen  Dl_vmt_MRU_2003 = l_vmt_MRU_03 - l_vmt_MRU_93 	gen  Dl_aadt_MRU_1993 = l_aadt_MRU_93 - l_aadt_MRU_83 	gen  Dl_aadt_MRU_2003 = l_aadt_MRU_03 - l_aadt_MRU_93 	gen Dl_pop_1993 = l_pop90 -l_pop80	gen Dl_pop_2003 = l_pop00 -l_pop90      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00      	gen g_exp_2003=g_exp00_90	gen g_exp_1993=g_exp90_80      rename l_aadt_IHNU_83 l_aadt_IHNU_1993      rename l_aadt_IHNU_93 l_aadt_IHNU_2003      rename l_aadt_IHU_83 l_aadt_IHU_1993      rename l_aadt_IHU_93 l_aadt_IHU_2003      rename l_aadt_IH_83 l_aadt_IH_1993      rename l_aadt_IH_93 l_aadt_IH_2003      rename l_aadt_MRU_83 l_aadt_MRU_1993      rename l_aadt_MRU_93 l_aadt_MRU_2003 	rename S_somecollege_80 S_somecollege_1993 	rename l_mean_income_80 l_mean_income_1993 	rename S_poor_80 S_poor_1993 	rename S_manuf83 S_manuf_1993  	rename S_somecollege_90 S_somecollege_2003 	rename l_mean_income_90 l_mean_income_2003 	rename S_poor_90 S_poor_2003 	rename S_manuf93 S_manuf_2003 	reshape long Dl_ln_IH Dl_ln_IHU Dl_ln_MRU Dl_ln_IHNU                    Dl_aadt_IH Dl_aadt_IHU Dl_aadt_MRU Dl_aadt_IHNU                    l_aadt_IH l_aadt_IHU l_aadt_MRU l_aadt_IHNU                  sprawl S_somecollege l_mean_income S_poor S_manuf g_exp			 Dl_pop l_pop, i(msa ) j(year _1993 _2003)	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics  "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	*instructions for outreg	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local instruct2 "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 	iis msa	local j=1	while `j'<=3{		if `j'==1{			local R "IHU"			local V "A7b"			local cond "if (zero>0)"			}		if `j'==2{			local R "MRU"			local V "A7a"			local cond "if (zero>0)"			}		if `j'==3{			local R "IHNU"			local V "A7c"			local cond "if (zero>0)"			}				capture drop Dl_aadt Dl_ln l_aadt 		gen Dl_aadt = Dl_aadt_`R' 		gen Dl_ln  = Dl_ln_`R' 		gen l_aadt = l_aadt_`R' 		xi: reg    Dl_aadt l_aadt i.year `cond', cl(msa) robust  		outreg2    l_aadt using revision/table`V'.xls,ctitle(OLS `R')  `instruct' replace		xi: reg    Dl_aadt l_aadt Dl_pop i.year `cond', cl(msa) robust  		outreg2    l_aadt  Dl_pop using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append		xi: reg    Dl_aadt l_aadt Dl_pop  `geography' `census_div' i.year `cond', cl(msa) robust  		outreg2    l_aadt  Dl_pop using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append		xi: reg    Dl_aadt l_aadt Dl_pop  `geography' `census_div' `population' `demographics' i.year `cond', cl(msa) robust  		outreg2    l_aadt  Dl_pop using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append		xi: xtreg  Dl_aadt l_aadt i.year `cond', fe robust  		outreg2    l_aadt using revision/table`V'.xls,ctitle(FE `R')  `instruct' append		xi: ivreg2 Dl_aadt l_aadt  (Dl_pop =g_exp) S_manuf i.year `geography' `census_div' `cond', cl(msa) robust  		outreg2    l_aadt Dl_pop using revision/table`V'.xls,ctitle(IV `R')  `instruct2' append	      local j=`j'+1	      }	log close	}******************************************************************** ***     TABLE 9  TRUCK VKT, POOLED OLS                               ******************************************************************** if 1==1{	quietly log using revision/table8, text replace	use $data,clear	* Selection of observations	drop if l_ln_km_IH_83==0	rename sprawl_1992 sprawl_1993	rename sprawl_1976 sprawl_1983	gen sprawl_2003 = sprawl_1993	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100      rename S_somecollege_80 S_somecollege_1983      rename S_somecollege_00 S_somecollege_2003      rename S_somecollege_90 S_somecollege_1993      rename S_poor_80 S_poor_1983      rename S_poor_90 S_poor_1993      rename S_poor_00 S_poor_2003      rename l_mean_income_80 l_mean_income_1983      rename l_mean_income_90 l_mean_income_1993      rename l_mean_income_00 l_mean_income_2003      rename S_manuf83 S_manuf_1983      rename S_manuf93 S_manuf_1993      rename S_manuf03 S_manuf_2003      rename S_truck83 S_truck_1983      rename S_truck93 S_truck_1993      rename S_truck03 S_truck_2003      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00       rename l_max_84bus l_bus_1983       rename l_max_94bus l_bus_1993       rename l_max_04bus l_bus_2003       rename l_transit84 l_transit_1983      rename l_transit94 l_transit_1993       rename l_transit04 l_transit_2003      rename l_ln_km_IH_83 l_ln_km_IH_1983      rename l_ln_km_IH_93 l_ln_km_IH_1993      rename l_ln_km_IH_03 l_ln_km_IH_2003      rename l_vmt_IH_83 l_vmt_IH_1983      rename l_vmt_IH_93 l_vmt_IH_1993      rename l_vmt_IH_03 l_vmt_IH_2003            rename l_t_vmt_IH_83 l_t_vmt_IH_1983      rename l_t_vmt_IH_93 l_t_vmt_IH_1993      rename l_t_vmt_IH_03 l_t_vmt_IH_2003	reshape long l_ln_km_IH  l_vmt_IH l_t_vmt_IH l_bus l_transit sprawl S_somecollege l_mean_income S_poor S_manuf S_truck l_pop, i(msa ) j(year _1983 _1993 _2003)	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local instruct2 "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 	iis msa	local R "IH"	local V "8"	local cond " "			capture drop l_vmt l_ln l_t_vmt	gen l_vmt = l_vmt_`R' 	gen l_t_vmt = l_t_vmt_`R' 	gen l_ln  = l_ln_km_`R' 	xi: reg    l_t_vmt l_ln i.year , cl(msa) robust  	outreg2    l_ln using revision/table`V'.xls,ctitle(OLS `R')  `instruct' replace	xi: reg    l_t_vmt l_ln l_pop i.year ,  cl(msa) robust  	outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: reg    l_t_vmt l_ln l_pop  `geography' `census_div' i.year , cl(msa)  robust  	outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: reg    l_t_vmt l_ln l_pop  `geography' `census_div' `demographics' i.year , cl(msa)  robust  	outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: reg    l_t_vmt l_ln l_pop  `geography' `census_div' `population' `demographics' i.year , cl(msa)  robust  	outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 	xi: xtreg  l_t_vmt l_ln i.year , fe robust  	outreg2    l_ln using revision/table`V'.xls,ctitle(FE `R')  `instruct' append	xi: xtreg  l_t_vmt l_ln l_pop i.year ,  fe robust  	outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 	xi: xtreg  l_t_vmt l_ln l_pop  `demographics' i.year , fe  robust  	outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 	xi: ivreg2 l_t_vmt (l_ln= l_rail1898 l_hwy1947 l_pix1835) l_pop i.year , first cl(msa) robust  	outreg2    l_ln l_pop using revision/table`V'.xls,ctitle(IV `R')  `instruct2' append 	xi: ivreg2 l_t_vmt (l_ln= l_rail1898 l_hwy1947 l_pix1835) l_pop  `geography' `census_div' i.year , first cl(msa)  robust  	outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(IV `R')  `instruct2' append 	log close	}******************************************************************** ***    APPENDIX TABLE 8  TRUCK VKT BY DECADE                         ******************************************************************** if 1==1{	quietly log using revision/tableA8, text replace	use $data,clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	gen l_t_vmt_IHNU_83 = ln(t_vmt_IH_83 - t_vmt_IHU_83)	gen l_t_vmt_IHNU_93 = ln(t_vmt_IH_93 - t_vmt_IHU_93)	gen l_t_vmt_IHNU_03 = ln(t_vmt_IH_03 - t_vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl93	rename sprawl_1976 sprawl83	gen sprawl03 = sprawl93	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local k=1	while `k'<=4{		if `k'==1{			local V "A8_a"			local R "IH"			local cond " "			}		if `k'==2{			local V "A8_b"			local R "IHU"			local cond "if zero>0"			}		if `k'==3{			local V "A8_c"			local R "MRU"			local cond "if zero>0"			}		if `k'==4{			local V "A8_d"			local R "IHNU"			local cond "if zero>0"			}	local i=0	local j=1	while `j'<=3{		if `j'==1{			local year "1983"			local yrMM "83"			local yrXX "80"			local yrbus "84"			local population "l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==2{			local year "1993"			local yrMM "93"			local yrXX "90"			local yrbus "94"			local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==3{			local year "2003"			local yrMM "03"			local yrXX "00"			local yrbus "04"			local population "l_pop90 l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		capture drop l_pop l_vmt l_ln l_max_bus sprawl l_transit l_mean_income S_somecollege S_poor S_manuf		gen l_pop 	= l_pop`yrXX' 		gen sprawl 	= sprawl`yrMM' 		gen l_mean_income = l_mean_income_`yrXX' 		gen S_somecollege = S_somecollege_`yrXX' 		gen S_poor 	= S_poor_`yrXX' 		gen S_manuf	= S_manuf`yrMM' 		gen l_vmt = l_t_vmt_`R'_`yrMM' 		gen l_ln  = l_ln_km_`R'_`yrMM' 		gen l_max_bus   = l_max_`yrbus'bus		gen l_transit   = l_transit`yrbus'				local i= `i'+1		reg   l_vmt l_ln `cond',robust  		if `i'==1{		outreg2 l_ln using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' replace		}		if `i'>1{		outreg2 l_ln using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append		}		local i= `i'+1		reg   l_vmt l_ln l_pop `cond', robust  		outreg2 l_ln l_pop using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append 		local i= `i'+1		reg    l_vmt l_ln l_pop  `geography' `census_div' `cond', robust  		outreg2 l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append 				local i= `i'+1		reg   l_vmt l_ln l_pop `geography' `demographics' `population' `census_div' `cond', robust  		outreg2  l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append 	      local j=`j'+1	      }	local k=`k'+1	}	log close	}******************************************************************** ***     APPENDIX TABLE 9  EMPLOYMENT IN TRUCKING AND WAREHOUSING              ******************************************************************** if 1==1{	quietly log using revision/tableA9, text replace	use $data,clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl_1993	rename sprawl_1976 sprawl_1983	gen sprawl_2003 = sprawl_1993	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	gen l_emp_truck_1983 = ln(S_truck83*emp83) 	gen l_emp_truck_1993 = ln(S_truck93*emp93)	gen l_emp_truck_2003 = ln(S_truck03*emp03)	gen l_emp_wholet_1983 = ln(S_wholet83*emp83) 	gen l_emp_wholet_1993 = ln(S_wholet93*emp93)	gen l_emp_wholet_2003 = ln(S_wholet03*emp03)      rename S_somecollege_80 S_somecollege_1983      rename S_somecollege_00 S_somecollege_2003      rename S_somecollege_90 S_somecollege_1993      rename S_poor_80 S_poor_1983      rename S_poor_90 S_poor_1993      rename S_poor_00 S_poor_2003      rename l_mean_income_80 l_mean_income_1983      rename l_mean_income_90 l_mean_income_1993      rename l_mean_income_00 l_mean_income_2003      rename S_manuf83 S_manuf_1983      rename S_manuf93 S_manuf_1993      rename S_manuf03 S_manuf_2003      rename S_truck83 S_truck_1983      rename S_truck93 S_truck_1993      rename S_truck03 S_truck_2003      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00       rename l_max_84bus l_bus_1983       rename l_max_94bus l_bus_1993       rename l_max_04bus l_bus_2003       rename l_transit84 l_transit_1983      rename l_transit94 l_transit_1993       rename l_transit04 l_transit_2003      rename l_ln_km_IHNU_83 l_ln_km_IHNU_1983      rename l_ln_km_IHNU_93 l_ln_km_IHNU_1993      rename l_ln_km_IHNU_03 l_ln_km_IHNU_2003      rename l_ln_km_IHU_83 l_ln_km_IHU_1983      rename l_ln_km_IHU_93 l_ln_km_IHU_1993      rename l_ln_km_IHU_03 l_ln_km_IHU_2003      rename l_ln_km_IH_83 l_ln_km_IH_1983      rename l_ln_km_IH_93 l_ln_km_IH_1993      rename l_ln_km_IH_03 l_ln_km_IH_2003      rename l_ln_km_MRU_83 l_ln_km_MRU_1983      rename l_ln_km_MRU_93 l_ln_km_MRU_1993      rename l_ln_km_MRU_03 l_ln_km_MRU_2003      	rename l_vmt_IHNU_83 l_vmt_IHNU_1983      rename l_vmt_IHNU_93 l_vmt_IHNU_1993      rename l_vmt_IHNU_03 l_vmt_IHNU_2003      rename l_vmt_IHU_83 l_vmt_IHU_1983      rename l_vmt_IHU_93 l_vmt_IHU_1993      rename l_vmt_IHU_03 l_vmt_IHU_2003      rename l_vmt_IH_83 l_vmt_IH_1983      rename l_vmt_IH_93 l_vmt_IH_1993      rename l_vmt_IH_03 l_vmt_IH_2003      rename l_vmt_MRU_83 l_vmt_MRU_1983      rename l_vmt_MRU_93 l_vmt_MRU_1993      rename l_vmt_MRU_03 l_vmt_MRU_2003	reshape long l_emp_truck l_emp_wholet l_ln_km_IH  l_ln_km_IHU  l_ln_km_IHNU  l_ln_km_MRU l_vmt_IH l_vmt_IHU  l_vmt_IHNU  l_vmt_MRU l_bus l_transit sprawl S_somecollege l_mean_income S_poor S_manuf S_truck l_pop, i(msa ) j(year _1983 _1993 _2003)	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local instruct2 "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 	iis msa	local j=1	while `j'<=2{		if `j'==1{			local R "IH"			local R2 "MRU"			local exp "l_ln"			local Inst "l_rail1898 l_hwy1947 l_pix1835"			local V "A9_a"			local cond " "			}		if `j'==2{			local R "IHU"			local R2 "IHNU"			local exp "l_ln l_ln2"			local Inst "l_rail1898 l_hwy1947 l_pix1835"			local V "A9_b"			local cond "if zero>0"			}		capture drop l_vmt l_ln l_ln2		gen l_vmt = l_vmt_`R' 		gen l_ln  = l_ln_km_`R' 		gen l_ln2  = l_ln_km_`R2' 		xi: reg    l_emp_truck `exp' l_pop i.year `cond', cl(msa) robust  		outreg2    `exp' l_pop using revision/table`V'.xls,ctitle(OLS `R')  `instruct' replace		xi: reg    l_emp_truck `exp' l_pop  `geography' `census_div' i.year `cond', cl(msa)  robust  		outreg2    `exp' l_pop  `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: reg    l_emp_truck `exp' l_pop  `geography' `census_div' `population' `demographics' i.year `cond', cl(msa)  robust  		outreg2    `exp' l_pop  `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: xtreg  l_emp_truck `exp' l_pop i.year `cond', fe robust  		outreg2    `exp' l_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append		xi: ivreg2 l_emp_truck (`exp' =`Inst') l_pop i.year `cond', cl(msa) robust  		outreg2    `exp' l_pop using revision/table`V'.xls,ctitle(IV `R')  `instruct2' append 		xi: ivreg2 l_emp_truck (`exp' =`Inst') l_pop  `geography' `census_div' i.year `cond', cl(msa)  robust  		outreg2    `exp' l_pop  `geography' using revision/table`V'.xls,ctitle(IV `R')  `instruct2' append 	      local j=`j'+1	      }	log close	}******************************************************************************************************* ***     APPENDIX TABLE 10  EMPLOYMENT IN TRUCKING AND WAREHOUSING BY DECADE   OLS+IV                    ******************************************************************************************************* if 1==1{	quietly log using revision/tableA10, text replace	use $data,clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl93	rename sprawl_1976 sprawl83	gen sprawl03 = sprawl93	gen l_emp_truck_83 = ln(S_truck83*emp83) 	gen l_emp_truck_93 = ln(S_truck93*emp93)	gen l_emp_truck_03 = ln(S_truck03*emp03)	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local instruct2 "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 	local Inst "l_rail1898 l_hwy1947 l_pix1835"	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local V "A10"	local R "IH"	local cond " "	local i=0	local j=1	while `j'<=3{		if `j'==1{			local year "1983"			local yrMM "83"			local yrXX "80"			local yrbus "84"			local population "l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==2{			local year "1993"			local yrMM "93"			local yrXX "90"			local yrbus "94"			local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==3{			local year "2003"			local yrMM "03"			local yrXX "00"			local yrbus "04"			local population "l_pop90 l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		capture drop l_emp_truck l_pop l_vmt l_ln l_max_bus sprawl l_mean_income S_somecollege S_poor S_manuf		gen l_pop 	= l_pop`yrXX' 		gen sprawl 	= sprawl`yrMM' 		gen l_mean_income = l_mean_income_`yrXX' 		gen S_somecollege = S_somecollege_`yrXX' 		gen S_poor 	= S_poor_`yrXX' 		gen S_manuf	= S_manuf`yrMM' 		gen l_vmt = l_vmt_`R'_`yrMM' 		gen l_ln  = l_ln_km_`R'_`yrMM' 		gen l_max_bus   = l_max_`yrbus'bus		gen l_emp_truck   = l_emp_truck_`yrMM'			local i= `i'+1		reg   l_emp_truck l_ln l_pop `cond',robust  		if `i'==1{		outreg2 l_ln l_pop using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' replace		}		if `i'>1{		outreg2 l_ln l_pop using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append		}		reg    l_emp_truck l_ln l_pop  `geography' `census_div' `cond', robust  		outreg2 l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append 				reg   l_emp_truck l_ln l_pop `geography' `demographics' `population' `census_div' `cond', robust  		outreg2  l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append 		xi: ivreg2 l_emp_truck (l_ln =`Inst') l_pop  `geography' `census_div' `cond', cl(msa)  robust  		outreg2    l_ln l_pop  `geography' using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct2' append 	      local j=`j'+1	      }	log close	}******************************************************************** ***     TABLE DESCRIPTIVE STATS (NPTS)  Appendix table A11          *NPTS tables redone with new version of npts data. Feb 2010,mt*** *** not reproducible w/o confidential NPTS data*** ******************************************************************** * revised Feb 2010 to use new formulations of npts individual dataif 1==0{	quietly log using revision/tableA11, text replace	***** vehicle data *************************************************************** 	* specify locations of the data sets	global data "congestion_vehicle2.dta" 	use $data,clear	drop if msa==.	drop if ln_km_IH_83==0	sort msa year	by msa year:gen msa_counter = (_n==1)	sort year	by year: count if msa_counter==1	drop msa_counter	replace annmiles = 1.61 * annmiles	gen v_miles_pp = annmiles/hhsize	gen v_miles_pveh = annmiles/vehcnt_hh	gen v_miles_phh = annmiles	sort year  	by year: sum v_miles_pp v_miles_phh v_miles_pveh	***** person data *************************************************************** 	* specify locations of the component data sets	global data "congestion_person2.dta" 	use $data,clear	drop if msa==.	drop if ln_km_IH_83==0	sort msa year	by msa year:gen msa_counter = (_n==1)	sort year	by year: count if msa_counter==1	drop msa_counter	replace disttowk  	= 1.61 * disttowk	gen kph			= disttowk/(timetowk/60)		sort year	by year:sum  timetowk disttowk kph  		***** Trip data *************************************************************** 	global data "congestion_trip2.dta" 	* specify locations of the component data sets	use $data,clear	drop if msa==.	drop if ln_km_IH_83==0	sort msa year	by msa year:gen msa_counter = (_n==1)	sort year	by year: count if msa_counter==1	drop msa_counter  	replace hh_miles = 1.61 * hh_miles  	replace hh_mph	 = 1.61 * hh_mph  	sort year	by year: sum   hh_miles hh_min hh_mph	* Reset global data to original	global data  			"..\results\congestion_gd.dta" 	log close	}**************************************************************************************** ***           TABLE 10  INDIVIDUAL DRIVING, NPTS, POOLING 1995 AND 2001                 *** *** not reproducible w/o confidential NPTS data*** **************************************************************************************** if 1==0{	quietly log using revision/table9, text replace	***** PERSON data *************************************************************** 	* specify locations of the NPTS person data sets	global data "congestion_person2.dta" 	use $data,clear	drop if ln_km_IH_83==0	gen l_disttowk=log(disttowk)	*fix msa level variables so year is right	gen l_ln_km_IH 		= cond(year==1995,l_ln_km_IH_95,l_ln_km_IH_01) 	gen l_vmt_IH	 	= cond(year==1995, l_vmt_IH_95, l_vmt_IH_01) 	rename sprawl_1992 sprawl	drop sprawl_*		local T "Comm_Dist"	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	*not used final version. Mt Feb 2010	*local demographics "S_somecollege l_mean_income S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	*local inst "l_rail1898 l_hwy1947 l_pix1835"	local inst "l_rail1898 l_hwy1947"	local perso " i.educ r_age r_sex i.race i.hh_income"	local perso_test " educ r_age r_sex race hh_income"	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local instruct2 "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 		iis msa	local R "IH"	local dep "l_disttowk"	local V "9"	local cond " "	capture drop l_vmt l_ln l_aadt	gen l_vmt = l_vmt_`R' 	gen l_ln  = l_ln_km_`R' 	*gen l_aadt  = l_aadt_`R' 	xi: reg    `dep' l_ln `perso' i.year `cond',  cl(msa) robust  	outreg2    l_ln using revision/table`V'a.xls,ctitle(OLS `R' `T')  `instruct' replace 	xi: reg    `dep' l_ln `perso' l_pop90  `geography' `census_div' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_pop90  `geography' using revision/table`V'a.xls,ctitle(OLS `R' `T')  `instruct' append 	xi: reg    `dep' l_ln `perso' l_pop90  `geography' `census_div' `population' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_pop90  `geography' using revision/table`V'a.xls,ctitle(OLS `R' `T')  `instruct' append 	xi: ivreg2 `dep' (l_ln =`inst') `perso' i.year `cond',  cl(msa) robust  	outreg2    l_ln using revision/table`V'b.xls,ctitle(TSLS `R' `T')  `instruct2' replace 	xi: ivreg2 `dep' (l_ln =`inst') `perso' l_pop90  `geography' `census_div' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_pop90  `geography' using revision/table`V'b.xls,ctitle(TSLS `R' `T')  `instruct2' append 	xi: ivreg2 `dep' (l_ln =`inst') `perso' l_pop90  `geography' `census_div' `population' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_pop90  `geography' using revision/table`V'b.xls,ctitle(TSLS `R' `T')  `instruct2' append 	***** TRIP data *************************************************************** 	* specify locations of the component data sets	global data "congestion_trip2.dta" 	use $data,clear	drop if ln_km_IH_83==0		gen l_hh_miles=log(hh_miles)		*fix msa level variables so year is right	gen l_ln_km_IH 		= cond(year==1995,l_ln_km_IH_95,l_ln_km_IH_01) 	gen l_vmt_IH	 	= cond(year==1995, l_vmt_IH_95, l_vmt_IH_01) 	rename sprawl_1992 sprawl	drop sprawl_*		local T "HH_VKT"	local perso "i.race i.hh_income i.hh_education"	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local instruct2 "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 	iis msa	local R "IH"	local dep "l_hh_miles"	local V "9"	local cond " "	gen l_vmt = l_vmt_`R' 	gen l_ln  = l_ln_km_`R' 	*gen l_aadt  = l_aadt_`R' 	xi: reg    `dep' l_ln `perso' i.year `cond',  cl(msa) robust  	outreg2    l_ln using revision/table`V'a.xls,ctitle(OLS `R' `T')  `instruct' append 	xi: reg    `dep' l_ln `perso' l_pop90  `geography' `census_div' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_pop90  `geography' using revision/table`V'a.xls,ctitle(OLS `R' `T')  `instruct' append 	xi: reg    `dep' l_ln `perso' l_pop90  `geography' `census_div' `population' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_pop90  `geography' using revision/table`V'a.xls,ctitle(OLS `R' `T')  `instruct' append 	xi: ivreg2 `dep' (l_ln =`inst') `perso' i.year `cond',  cl(msa) robust  	outreg2    l_ln using revision/table`V'b.xls,ctitle(TSLS `R' `T')  `instruct2' append 	xi: ivreg2 `dep' (l_ln =`inst') `perso' l_pop90  `geography' `census_div' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_pop90  `geography' using revision/table`V'b.xls,ctitle(TSLS `R' `T')  `instruct2' append 	xi: ivreg2 `dep' (l_ln =`inst') `perso' l_pop90  `geography' `census_div' `population' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_pop90  `geography' using revision/table`V'b.xls,ctitle(TSLS `R' `T')  `instruct2' append 	***** VEHICLE data *************************************************************** 	* specify locations of the component data sets	global data "congestion_vehicle2.dta" 	use $data,clear	drop if ln_km_IH_83==0	gen l_annmiles=log(annmiles)		*fix msa level variables so year is right	gen l_ln_km_IH 		= cond(year==1995,l_ln_km_IH_95,l_ln_km_IH_01) 	gen l_vmt_IH	 	= cond(year==1995, l_vmt_IH_95, l_vmt_IH_01) 	rename sprawl_1992 sprawl	drop sprawl_*		local T "Tot_VKT"	local perso "i.race i.hh_income i.hh_education"	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local instruct2 "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se addstat(Overid,e(jp),First stage F, e(widstat))" 		iis msa	local R "IH"	local dep "l_annmiles"	local V "9"	local cond " "	gen l_vmt = l_vmt_`R' 	gen l_ln  = l_ln_km_`R' 		xi: reg    `dep' l_ln `perso' i.year `cond',  cl(msa) robust  	outreg2    l_ln using revision/table`V'a.xls,ctitle(OLS `R' `T')  `instruct' append 	xi: reg    `dep' l_ln `perso' l_pop90  `geography' `census_div' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_pop90  `geography' using revision/table`V'a.xls,ctitle(OLS `R' `T')  `instruct' append 	xi: reg    `dep' l_ln `perso' l_pop90  `geography' `census_div' `population' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_pop90  `geography' using revision/table`V'a.xls,ctitle(OLS `R' `T')  `instruct' append 	xi: ivreg2 `dep' (l_ln =`inst') `perso' i.year `cond',  cl(msa) robust  	outreg2    l_ln  using revision/table`V'b.xls,ctitle(TSLS `R' `T')  `instruct2' append 	xi: ivreg2 `dep' (l_ln =`inst') `perso' l_pop90  `geography' `census_div' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_pop90  `geography' using revision/table`V'b.xls,ctitle(TSLS `R' `T')  `instruct2' append 	xi: ivreg2 `dep' (l_ln =`inst') `perso' l_pop90  `geography' `census_div' `population' i.year `cond', cl(msa)  robust  	outreg2    l_ln l_pop90  `geography' using revision/table`V'b.xls,ctitle(TSLS `R' `T')  `instruct2' append * Reset global data to originalglobal data  			"..\results\congestion_gd.dta" 	log close	}******************************************************************** ***     TABLE 11  TRAFFIC CROSS ELASTICITIES ******************************************************************** if 1==1{	quietly log using revision/table10, text replace	use $data,clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl_1993	rename sprawl_1976 sprawl_1983	gen sprawl_2003 = sprawl_1993	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100      rename S_somecollege_80 S_somecollege_1983      rename S_somecollege_00 S_somecollege_2003      rename S_somecollege_90 S_somecollege_1993      rename S_poor_80 S_poor_1983      rename S_poor_90 S_poor_1993      rename S_poor_00 S_poor_2003      rename l_mean_income_80 l_mean_income_1983      rename l_mean_income_90 l_mean_income_1993      rename l_mean_income_00 l_mean_income_2003      rename S_manuf83 S_manuf_1983      rename S_manuf93 S_manuf_1993      rename S_manuf03 S_manuf_2003      rename S_truck83 S_truck_1983      rename S_truck93 S_truck_1993      rename S_truck03 S_truck_2003      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00       rename l_max_84bus l_bus_1983       rename l_max_94bus l_bus_1993       rename l_max_04bus l_bus_2003       rename l_transit84 l_transit_1983      rename l_transit94 l_transit_1993       rename l_transit04 l_transit_2003      rename l_ln_km_IHNU_83 l_ln_km_IHNU_1983      rename l_ln_km_IHNU_93 l_ln_km_IHNU_1993      rename l_ln_km_IHNU_03 l_ln_km_IHNU_2003      rename l_ln_km_IHU_83 l_ln_km_IHU_1983      rename l_ln_km_IHU_93 l_ln_km_IHU_1993      rename l_ln_km_IHU_03 l_ln_km_IHU_2003      rename l_ln_km_IH_83 l_ln_km_IH_1983      rename l_ln_km_IH_93 l_ln_km_IH_1993      rename l_ln_km_IH_03 l_ln_km_IH_2003      rename l_ln_km_MRU_83 l_ln_km_MRU_1983      rename l_ln_km_MRU_93 l_ln_km_MRU_1993      rename l_ln_km_MRU_03 l_ln_km_MRU_2003      	rename l_vmt_IHNU_83 l_vmt_IHNU_1983      rename l_vmt_IHNU_93 l_vmt_IHNU_1993      rename l_vmt_IHNU_03 l_vmt_IHNU_2003      rename l_vmt_IHU_83 l_vmt_IHU_1983      rename l_vmt_IHU_93 l_vmt_IHU_1993      rename l_vmt_IHU_03 l_vmt_IHU_2003      rename l_vmt_IH_83 l_vmt_IH_1983      rename l_vmt_IH_93 l_vmt_IH_1993      rename l_vmt_IH_03 l_vmt_IH_2003      rename l_vmt_MRU_83 l_vmt_MRU_1983      rename l_vmt_MRU_93 l_vmt_MRU_1993      rename l_vmt_MRU_03 l_vmt_MRU_2003	reshape long l_ln_km_IH  l_ln_km_IHU  l_ln_km_IHNU  l_ln_km_MRU l_vmt_IH l_vmt_IHU  l_vmt_IHNU  l_vmt_MRU l_bus l_transit sprawl S_somecollege l_mean_income S_poor S_manuf S_truck l_pop, i(msa ) j(year _1983 _1993 _2003)	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	gen l_ln_km_0  = 0	iis msa	local j=1	while `j'<=3{		if `j'==1{			local R "IHU"			local S "IHNU"			local T "MRU"			local V "10_a"			local cond "if zero>0"			}		if `j'==2{			local R "IHNU"			local S "IHU"			local T "MRU"			local V "10_b"			local cond "if zero>0"			}		if `j'==3{			local R "MRU"			local S "IHU"			local T "IHNU"			local V "10_c"			local cond "if zero>0"			}				capture drop l_vmt l_ln		capture drop l_ln2 l_ln3		gen l_vmt = l_vmt_`R' 		gen l_ln  = l_ln_km_`R'		gen l_ln2  = l_ln_km_`S'		gen l_ln3  = l_ln_km_`T'		xi: reg    l_vmt l_ln l_ln2 l_ln3 i.year `cond', cl(msa) robust  		outreg2    l_ln l_ln2 l_ln3 using revision/table`V'.xls,ctitle(OLS `R')  `instruct' replace		xi: reg    l_vmt l_ln l_ln2 l_ln3 l_pop i.year `cond',  cl(msa) robust  		outreg2    l_ln l_ln2 l_ln3 l_pop using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: reg    l_vmt l_ln l_ln2 l_ln3 l_pop  `geography' `census_div' i.year `cond', cl(msa)  robust  		outreg2    l_ln l_ln2 l_ln3 l_pop  `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: reg    l_vmt l_ln l_ln2 l_ln3 l_pop  `geography' `census_div' `demographics' i.year `cond', cl(msa)  robust  		outreg2    l_ln l_ln2 l_ln3 l_pop  `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: reg    l_vmt l_ln l_ln2 l_ln3 l_pop  `geography' `census_div' `population' `demographics' i.year `cond', cl(msa)  robust  		outreg2    l_ln l_ln2 l_ln3 l_pop  `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: xtreg  l_vmt l_ln l_ln2 l_ln3 i.year `cond', fe robust  		outreg2    l_ln l_ln2 l_ln3 using revision/table`V'.xls,ctitle(FE `R')  `instruct' append		xi: xtreg  l_vmt l_ln l_ln2 l_ln3 l_pop i.year `cond',  fe robust  		outreg2    l_ln l_ln2 l_ln3 l_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 		xi: xtreg  l_vmt l_ln l_ln2 l_ln3 l_pop  `demographics' i.year `cond', fe  robust  		outreg2    l_ln l_ln2 l_ln3 l_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 	      local j=`j'+1	      }	log close	}******************************************************************** ***     APPENDIX TABLE 11  TRAFFIC CROSS ELASTICITY BY DECADE                 ******************************************************************** if 1==1{	quietly log using revision/tableA11, text replace	use $data,clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl93	rename sprawl_1976 sprawl83	gen sprawl03 = sprawl93	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	local k=1	while `k'<=3{		if `k'==1{			local R "IHU"			local S "IHNU"			local T "MRU"			local V "A11_a"			local cond "if zero>0"			}		if `k'==2{			local R "IHNU"			local S "IHU"			local T "MRU"			local V "A11_c"			local cond "if zero>0"			}		if `k'==3{			local R "MRU"			local S "IHU"			local T "IHNU"			local V "A11_b"			local cond "if zero>0"			}	local i=0	local j=1	while `j'<=3{		if `j'==1{			local year "1983"			local yrMM "83"			local yrXX "80"			local yrbus "84"			local population "l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==2{			local year "1993"			local yrMM "93"			local yrXX "90"			local yrbus "94"			local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		if `j'==3{			local year "2003"			local yrMM "03"			local yrXX "00"			local yrbus "04"			local population "l_pop90 l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  			}		capture drop l_pop l_vmt l_ln l_ln2 l_ln3 l_max_bus sprawl l_transit l_mean_income S_somecollege S_poor S_manuf		gen l_pop 	= l_pop`yrXX' 		gen sprawl 	= sprawl`yrMM' 		gen l_mean_income = l_mean_income_`yrXX' 		gen S_somecollege = S_somecollege_`yrXX' 		gen S_poor 	= S_poor_`yrXX' 		gen S_manuf	= S_manuf`yrMM' 		gen l_vmt = l_vmt_`R'_`yrMM' 		gen l_ln  = l_ln_km_`R'_`yrMM' 		gen l_ln2  = l_ln_km_`S'_`yrMM' 		gen l_ln3  = l_ln_km_`T'_`yrMM' 		gen l_max_bus   = l_max_`yrbus'bus		gen l_transit   = l_transit`yrbus'				local i= `i'+1		reg   l_vmt l_ln l_ln2 l_ln3 `cond',robust  		if `i'==1{		outreg2 l_ln l_ln2 l_ln3 using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' replace		}		if `i'>1{		outreg2 l_ln l_ln2 l_ln3 using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append		}		local i= `i'+1		reg   l_vmt l_ln l_ln2 l_ln3 l_pop `cond', robust  		outreg2 l_ln l_ln2 l_ln3 l_pop using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append 		local i= `i'+1		reg    l_vmt l_ln l_ln2 l_ln3 l_pop  `geography' `census_div' `cond', robust  		outreg2 l_ln l_ln2 l_ln3 l_pop  `geography' using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append 				local i= `i'+1		reg   l_vmt l_ln l_ln2 l_ln3 l_pop `geography' `demographics' `population' `census_div' `cond', robust  		outreg2  l_ln l_ln2 l_ln3 l_pop  `geography' using revision/table`V'.xls,ctitle(`R'`yrMM')  `instruct' append 	      local j=`j'+1	      }	local k=`k'+1	}	log close	}******************************************************************** ***     APPENDIX TABLE 12  CROSS ELASTICITIES USING FIRST DIFFERENCES ******************************************************************** if 1==1{	quietly log using revision/tableA12, text replace	use $data, clear	* Generate non urbanised area variables	gen l_ln_km_IHNU_83  = ln(ln_km_IH_83 - ln_km_IHU_83)	gen l_rd_km_IHNU_83  = ln(rd_km_IH_83 - rd_km_IHU_83)	gen l_vmt_IHNU_83 = ln(vmt_IH_83 - vmt_IHU_83)	gen l_ln_km_IHNU_93  = ln(ln_km_IH_93 - ln_km_IHU_93)	gen l_rd_km_IHNU_93  = ln(rd_km_IH_93 - rd_km_IHU_93)	gen l_vmt_IHNU_93 = ln(vmt_IH_93 - vmt_IHU_93)	gen l_ln_km_IHNU_03  = ln(ln_km_IH_03 - ln_km_IHU_03)	gen l_rd_km_IHNU_03  = ln(rd_km_IH_03 - rd_km_IHU_03)	gen l_vmt_IHNU_03 = ln(vmt_IH_03 - vmt_IHU_03)	* Selection of observations	drop if l_ln_km_IH_83==0	gen zero = min(l_ln_km_IH_83,l_ln_km_IH_93,l_ln_km_IHU_83,l_ln_km_IHU_93,l_ln_km_MRU_83,l_ln_km_MRU_93,l_ln_km_IHNU_83,l_ln_km_IHNU_93)	rename sprawl_1992 sprawl_2003	rename sprawl_1976 sprawl_1993	*rescale so display is better	replace elevat_range_msa = elevat_range_msa/1000 	replace ruggedness_msa = ruggedness_msa/1000	replace heating_dd = heating_dd/100	replace cooling_dd = cooling_dd/100	*Generate first differences	gen  Dl_ln_IH_1993 = l_ln_km_IH_93 - l_ln_km_IH_83	gen  Dl_ln_IH_2003 = l_ln_km_IH_03 - l_ln_km_IH_93	gen  Dl_vmt_IH_1993 = l_vmt_IH_93 - l_vmt_IH_83 	gen  Dl_vmt_IH_2003 = l_vmt_IH_03 - l_vmt_IH_93 	gen  Dl_ln_IHU_1993 = l_ln_km_IHU_93 - l_ln_km_IHU_83	gen  Dl_ln_IHU_2003 = l_ln_km_IHU_03 - l_ln_km_IHU_93	gen  Dl_vmt_IHU_1993 = l_vmt_IHU_93 - l_vmt_IHU_83 	gen  Dl_vmt_IHU_2003 = l_vmt_IHU_03 - l_vmt_IHU_93 	gen  Dl_ln_IHNU_1993 = l_ln_km_IHNU_93 - l_ln_km_IHNU_83	gen  Dl_ln_IHNU_2003 = l_ln_km_IHNU_03 - l_ln_km_IHNU_93	gen  Dl_vmt_IHNU_1993 = l_vmt_IHNU_93 - l_vmt_IHNU_83 	gen  Dl_vmt_IHNU_2003 = l_vmt_IHNU_03 - l_vmt_IHNU_93 	gen  Dl_ln_MRU_1993 = l_ln_km_MRU_93 - l_ln_km_MRU_83	gen  Dl_ln_MRU_2003 = l_ln_km_MRU_03 - l_ln_km_MRU_93	gen  Dl_vmt_MRU_1993 = l_vmt_MRU_93 - l_vmt_MRU_83 	gen  Dl_vmt_MRU_2003 = l_vmt_MRU_03 - l_vmt_MRU_93 	gen Dl_pop_1993 = l_pop90 -l_pop80	gen Dl_pop_2003 = l_pop00 -l_pop90      gen l_pop_1983 = l_pop80       gen l_pop_1993 = l_pop90       gen l_pop_2003 = l_pop00            rename l_vmt_IHNU_83 l_vmt_IHNU_1993      rename l_vmt_IHNU_93 l_vmt_IHNU_2003      rename l_vmt_IHU_83 l_vmt_IHU_1993      rename l_vmt_IHU_93 l_vmt_IHU_2003      rename l_vmt_IH_83 l_vmt_IH_1993      rename l_vmt_IH_93 l_vmt_IH_2003      rename l_vmt_MRU_83 l_vmt_MRU_1993      rename l_vmt_MRU_93 l_vmt_MRU_2003 	rename S_somecollege_80 S_somecollege_1993 	rename l_mean_income_80 l_mean_income_1993 	rename S_poor_80 S_poor_1993 	rename S_manuf83 S_manuf_1993  	rename S_somecollege_90 S_somecollege_2003 	rename l_mean_income_90 l_mean_income_2003 	rename S_poor_90 S_poor_2003 	rename S_manuf93 S_manuf_2003 	reshape long Dl_ln_IH Dl_ln_IHU Dl_ln_MRU Dl_ln_IHNU                    Dl_vmt_IH Dl_vmt_IHU Dl_vmt_MRU Dl_vmt_IHNU                   l_vmt_IH l_vmt_IHU  l_vmt_IHNU  l_vmt_MRU                    sprawl S_somecollege l_mean_income S_poor S_manuf 			 Dl_pop l_pop, i(msa ) j(year _1993 _2003)	local i=0	*Threshold for road growth	local k=-1000000000	local geography	 "elevat_range_msa ruggedness_msa heating_dd cooling_dd sprawl"	local demographics  "S_somecollege l_mean_income seg1980_ghetto S_poor S_manuf"  	local population "l_pop80 l_pop70 l_pop60 l_pop50 l_pop40 l_pop30 l_pop20"  	local census_div "div1 div2 div3 div4 div5 div6 div7 div8 div9"	*instructions for outreg	local instruct "tex tdec(2) rdec(2) auto(2) symbol($^a$,$^b$,$^c$) se " 	iis msa	gen Dl_ln_0=0 	local j=1	while `j'<=3{		if `j'==1{			local R "IHU"			local S "IHNU"			local T "MRU"			local V "A12_a"			local cond "if (zero>0 & Dl_ln_IHU>`k'& Dl_ln_IHNU>`k' & Dl_ln_MRU>`k')"			}		if `j'==2{			local R "IHNU"			local S "IHU"			local T "MRU"			local V "A12_b"			local cond "if (zero>0 & Dl_ln_IHU>`k'& Dl_ln_IHNU>`k' & Dl_ln_MRU>`k')"			}		if `j'==3{			local R "MRU"			local S "IHU"			local T "IHNU"			local V "A12_c"			local cond "if (zero>0 & Dl_ln_IHU>`k'& Dl_ln_IHNU>`k' & Dl_ln_MRU>`k' )"			}				capture drop Dl_vmt Dl_ln l_vmt Dl_ln2 Dl_ln3		gen Dl_vmt = Dl_vmt_`R' 		gen Dl_ln  = Dl_ln_`R' 		gen Dl_ln2  = Dl_ln_`S' 		gen Dl_ln3  = Dl_ln_`T' 		gen l_vmt = l_vmt_`R' 		xi: reg    Dl_vmt Dl_ln Dl_ln2 Dl_ln3 i.year `cond', cl(msa) robust  		outreg2    Dl_ln Dl_ln2 Dl_ln3 using revision/table`V'.xls,ctitle(OLS `R')  `instruct' replace		xi: reg    Dl_vmt Dl_ln Dl_ln2 Dl_ln3 Dl_pop i.year `cond',  cl(msa) robust  		outreg2    Dl_ln Dl_ln2 Dl_ln3 Dl_pop using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: reg    Dl_vmt Dl_ln Dl_ln2 Dl_ln3 Dl_pop l_vmt i.year `cond',  cl(msa) robust  		outreg2    Dl_ln Dl_ln2 Dl_ln3 Dl_pop l_vmt using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: reg    Dl_vmt Dl_ln Dl_ln2 Dl_ln3 Dl_pop  `geography' `census_div' i.year `cond', cl(msa)  robust  		outreg2    Dl_ln Dl_ln2 Dl_ln3 Dl_pop  `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: reg    Dl_vmt Dl_ln Dl_ln2 Dl_ln3 Dl_pop l_vmt `geography' `census_div' i.year `cond', cl(msa)  robust  		outreg2    Dl_ln Dl_ln2 Dl_ln3 Dl_pop l_vmt `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: reg    Dl_vmt Dl_ln Dl_ln2 Dl_ln3 Dl_pop `geography' `census_div' `population' `demographics' i.year `cond', cl(msa)  robust  		outreg2    Dl_ln Dl_ln2 Dl_ln3 Dl_pop `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: reg    Dl_vmt Dl_ln Dl_ln2 Dl_ln3 Dl_pop l_vmt `geography' `census_div' `population' `demographics' i.year `cond', cl(msa)  robust  		outreg2    Dl_ln Dl_ln2 Dl_ln3 Dl_pop l_vmt `geography' using revision/table`V'.xls,ctitle(OLS `R')  `instruct' append 		xi: xtreg  Dl_vmt Dl_ln Dl_ln2 Dl_ln3 i.year `cond', fe robust  		outreg2    Dl_ln Dl_ln2 Dl_ln3 using revision/table`V'.xls,ctitle(FE `R')  `instruct' append		xi: xtreg  Dl_vmt Dl_ln Dl_ln2 Dl_ln3 Dl_pop i.year `cond',  fe robust  		outreg2    Dl_ln Dl_ln2 Dl_ln3 Dl_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 		xi: xtreg  Dl_vmt Dl_ln Dl_ln2 Dl_ln3 Dl_pop `demographics' i.year `cond', fe  robust  		outreg2    Dl_ln Dl_ln2 Dl_ln3 Dl_pop using revision/table`V'.xls,ctitle(FE `R')  `instruct' append 	      local j=`j'+1	      }	log close	}exit******************************************************************** ******************************************************************** ******************************************************************** ******************************************************************** ******************************************************************* ******************************************************************** ******************************************************************** ******************************************************************** ******************************************************************** ******************************************************************** ******************************************************************** ******************************************************************** ******************************************************************** ******************************************************************** ******************************************************************** 